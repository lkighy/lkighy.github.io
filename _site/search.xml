<?xml version="1.0" encoding="utf-8"?>
<search>
  
    <entry>
      <title><![CDATA[WebAssembly ä¹‹ä¹¦ç›®å½•]]></title>
      <url>/rust/webassembly/2019/08/22/WebAssembly%E4%B9%8B%E4%B9%A6%E7%9B%AE%E5%BD%95/</url>
      <content type="text"><![CDATA[ç›®å½•1. ç®€ä»‹2. ä¸ºä»€ä¹ˆæ˜¯ Rust å’Œ WebAssembly3. ä»€ä¹ˆæ˜¯ WebAssembly4. æ•™ç¨‹:åº·å¨çš„ç”Ÿå‘½æ¸¸æˆ  å®‰è£…  Hello,World!  åº·å¨ç”Ÿå‘½æ¸¸æˆè§„åˆ™  å®žçŽ°åº·å¨ç”Ÿå‘½æ¸¸æˆ  æµ‹è¯•åº·å¨ç”Ÿå‘½æ¸¸æˆ  Debugging  å¢žåŠ äº¤äº’æ€§  Time Profiling  ç¼©å° .wasm çš„å¤§å°  å‘å¸ƒåˆ° npm5. å‚è€ƒ  ä½ åº”è¯¥çŸ¥é“çš„ Crates  ä½ åº”è¯¥çŸ¥é“çš„ Tools  é¡¹ç›®æ¨¡æ¿  Debugging  Time Profiling  ç¼©å°çš„ .wasm çš„å¤§å°  ä¸Ž JavaScript äº¤äº’  ä½¿ç”¨ WebAssembly å¯ä»¥ä½¿ç”¨å“ªäº› Crates è¿›è¡ŒçŽ°æˆçš„ Work  å¦‚ä½•å°† webAssembly æ”¯æŒæ·»åŠ åˆ°é€šç”¨åŒ…  å°† Rust å’Œ WebAssembly éƒ¨ç½²åˆ°ç”Ÿäº§çŽ¯å¢ƒä¸­]]></content>
      <categories>
        
          <category> rust/WebAssembly </category>
        
      </categories>
      <tags>
        
          <tag> rust </tag>
        
          <tag> WebAssembly </tag>
        
          <tag> ç¿»è¯‘ </tag>
        
          <tag> ç›®å½• </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[é…ç½® webpack]]></title>
      <url>/web/webpack/2019/08/21/%E9%85%8D%E7%BD%AEwebpack/</url>
      <content type="text"><![CDATA[åˆå§‹åŒ–é¡¹ç›®npm initæ­å»ºçŽ¯å¢ƒå®‰è£… webpack// npm i webpack --save// å¼€å‘ç‰ˆæœ¬npm i webpack --save-devå®‰è£… webpack-dev-servernpm i webpack-dev-server --savenpm i webpack-cli --save// å¯é€‰å®‰è£…npm i html-webpack-plugin --saveåˆ›å»ºé…ç½®æ–‡ä»¶åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º src æ–‡ä»¶å¤¹,åœ¨ src æ–‡ä»¶å¤¹ä¸‹åˆ›å»º main.js æ–‡ä»¶å’Œ index.html æ–‡ä»¶. main.js æ–‡ä»¶ä¸ºæ‰“åŒ…å…¥å£æ–‡ä»¶.index.html ä¸ºé¡µé¢å…¥å£æ–‡ä»¶.åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º webpack.config.js æ–‡ä»¶,è¿™æ˜¯ webpack çš„é…ç½®æ–‡ä»¶.const path = require("path")// html-webpack-plugin ç»„ä»¶ä¸ºå¯é€‰å¯¼å…¥,å¯¼å…¥è¿™ä¸ªç»„ä»¶,å¯ä»¥ä¸éœ€è¦å†index.html æ–‡ä»¶ä¸­å†å¯¼å…¥ main.js æ–‡ä»¶,webpack ä¼šè‡ªåŠ¨ç”Ÿæˆæ‰“åŒ…è¿›æ–‡ä»¶ä¸­,éœ€è¦ npm i html-webpack-plugin --save å‘½ä»¤è¿›è¡Œå®‰è£…const htmlWebpackPlugin = require("html-webpack-plugin")module.exports = {  // è®¾ç½®å…¥å£æ–‡ä»¶  entry: path.join(__dirname, "./src/main.js"),  // è®¾ç½®è¾“å‡ºæ–‡ä»¶  output: {    path: path.join(__dirname, "./dist"),    filename: "bundle.js"  },  // é…ç½®æ’ä»¶  plugins: [    // åˆ›å»ºåˆšåˆšå¯¼å…¥çš„æ’ä»¶    new htmlWebpackPlugin({      // æ¨¡æ¿æ–‡ä»¶      template: path.json(__dirname, "./src/index.html"),      // è¾“å‡ºæ–‡ä»¶      filename: "index.html"    })  ]}æ‰“å¼€æ ¹ç›®å½•ä¸‹çš„ package.json æ–‡ä»¶, å† "script" ä¸­æ·»åŠ :{  // ...  "script": {    // webpack-dev-server ä¸­çš„éƒ¨åˆ†é€‰é¡¹    // --open é»˜è®¤å¯åŠ¨æ—¶æ‰“å¼€æµè§ˆå™¨,    // --hot çƒ­æ›´æ–°    // --post 3000 è®¾ç½®ç«¯å£ä¸º 3000    // --contentBase src è®¾ç½®æµè§ˆå™¨é»˜è®¤æ‰“å¼€ src ç›®å½• å¦‚æžœæ²¡æœ‰ ä½¿ç”¨ html-webpack-plugin é€‰é¡¹åˆ™å¯ä»¥è®¾ç½®è¿™ä¸ªé€‰é¡¹    "dev": "webpack-dev-server --open --hot"  }  // ...}ä¸‹é¢åœ¨ index.html å’Œ main.js å†™å…¥å†…å®¹,æµ‹è¯•æ˜¯å¦æˆåŠŸ.index.html&lt;!DOCTYPE html&gt;&lt;html lang="zh-CN"&gt;&lt;head&gt;    &lt;meta charset="UTF-8"&gt;    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;    &lt;title&gt;Webpack&lt;/title&gt;&lt;/head&gt;&lt;body&gt;    &lt;h1&gt;&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;main.jslet myHeading = document.querySelector('h1');myHeading.textContent = 'Hello world!';åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹,è¾“å…¥ä¸€ä¸‹å‘½ä»¤è¿è¡Œ:npm run devé»˜è®¤æ‰“å¼€æµè§ˆå™¨,é¡µé¢å°†æ˜¾ç¤ºå¦‚ä¸‹å†…å®¹:æ€»ç»“åŽŸæœ¬å­¦ä¹ æ—¶åœ¨ å­¦ä¹  vue æ—¶åŽå­¦ä¹ çš„ webpack, ç»“æžœåœ¨ä¸Šæ‰‹äº† vue-cli,ä¹‹ä¸€æ®µæ—¶é—´,å°±å¿˜äº†å¦‚ä½•å®‰è£…äº†é…ç½®,äºŽæ˜¯è¿™é‡Œé‡æ–°åŽ»å­¦ä¹ å’Œé…ç½®äº†ä¸€ä¸‹.æœ¬ä»¥ä¸º webpack æ—¶å¿…é¡»è¦åœ¨å…¨å±€å®‰è£…ä¸€é,ç„¶åŽå†é¡¹ç›®ä¸­åœ¨å®‰è£…ä¸€é,æ‰€ä»¥ä½¿ç”¨äº†è™šæ‹Ÿæœºä¸‹çš„ ubuntu ç³»ç»Ÿå†æ­¤é…ç½®ä¸€æ¬¡,è¯•è¯•èƒ½å†å…¨å±€å®‰è£… webpack æ—¶èƒ½å¦ä½¿ç”¨.è€Œè¿™ç¯‡æ•™ç¨‹ä¹Ÿè¯å®žç¡®å®žä¸éœ€è¦å…¨å±€å®‰è£….æ‰€ä»¥,è¿™é‡Œå»ºè®®:èƒ½å¤Ÿåœ¨é¡¹ç›®ä¸­å®‰è£…çš„åŒ…,å°±åˆ«å®‰è£…åœ¨å…¨å±€,ä¼šå¯èƒ½å› ä¸ºåŒ…å†²çªè€Œå¯¼è‡´å„ç§èŽ«åå¥‡å¦™çš„é”™è¯¯!æœ¬ç¯‡åšå®¢åœ¨æŸäº›åœ°æ–¹çš„æè¿°è¿˜æœ‰äº›ä¸æ°å½“,è¿˜æœ›æŒ‡å‡º.]]></content>
      <categories>
        
          <category> web/webpack </category>
        
      </categories>
      <tags>
        
          <tag> webpack </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[å®žçŽ°åº·å¨ç”Ÿå‘½æ¸¸æˆ]]></title>
      <url>/rust/webassembly/2019/08/18/%E5%AE%9E%E7%8E%B0%E5%BA%B7%E5%A8%81%E7%94%9F%E5%91%BD%E6%B8%B8%E6%88%8F/</url>
      <content type="text"><![CDATA[è®¾è®¡åœ¨æˆ‘ä»¬æ·±å…¥ä¹‹å‰,æˆ‘ä»¬æœ‰ä¸€äº›è®¾è®¡éœ€è¦è€ƒè™‘.æ— é™çš„ universeç”Ÿå‘½æ¸¸æˆæ˜¯åœ¨æ— é™çš„ universe ä¸­è¿›è¡Œçš„,ä½†æˆ‘ä»¬æ²¡æœ‰æ— é™çš„å†…å­˜å’Œè®¡ç®—èƒ½åŠ›.è§£å†³è¿™ä¸ªç›¸å½“çƒ¦äººçš„é™åˆ¶é€šå¸¸ç”±ä¸€ä¸‹ä¸‰ç§é€‰æ‹©:  è·Ÿè¸ª universe çš„å“ªä¸ªå­é›†å‘ç”Ÿäº†æœ‰è¶£çš„äº‹æƒ…,å¹¶æ ¹æ®éœ€è¦æ‰©å±•æ­¤åŒºåŸŸ.åœ¨æœ€åçš„æƒ…å†µä¸‹,è¿™ç§æ‰©å±•æ˜¯æ— é™åˆ¶çš„,å®žçŽ°å°†å˜å¾—è¶Šæ¥è¶Šæ…¢,,æœ€ç»ˆè€—å°½å†…å­˜.  åˆ›å»ºå›ºå®šå¤§å°çš„ universe ,å…¶ä¸­è¾¹ç¼˜ä¸Šçš„å•å…ƒæ ¼æ¯”ä¸­é—´çš„å•å…ƒæ ¼å…·æœ‰æ›´å°‘çš„é‚»å±….è¿™ç§æ–¹æ³•ç¼ºç‚¹æ˜¯è¾¾åˆ° universe å°½å¤´çš„æ— é™çš„,å¦‚åŒæ»‘ç¿”æœºè¿™æ ·çš„åˆ°è¾¾äº† universe å°½å¤´,éƒ½ä¼šè¢«æ¶ˆç­.  åˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°å›ºå®šå‘¨æœŸçš„ universe ,å…¶ä¸­è¾¹ç¼˜ä¸Šçš„å•å…ƒæ ¼è¿žæŽ¥ç€ universe å¦ä¸€ä¾§çš„å•å…ƒæ ¼,å› ä¸ºè¿žæŽ¥ä¸´è¿‘çš„ universe ,æ»‘ç¿”æœºå¯ä»¥æ°¸è¿œè¿è¡Œä¸‹åŽ».æˆ‘ä»¬å°†å®žçŽ°ç¬¬ä¸‰ç§é€‰æ‹©.è¿žæŽ¥ Rust å’Œ JavaScript  âš¡å³ä¾¿ç¦»å¼€äº†æœ¬æ•™ç¨‹,è¿™ä¹Ÿæ˜¯æœ€é‡è¦çš„æ¦‚å¿µä¹‹ä¸€!JavaScript ä¸­çš„åžƒåœ¾å›žæ”¶å™¨(å…¶ä¸­åˆ†é…äº† object, array å’Œ DOM èŠ‚ç‚¹) ä¸Ž WebAssembly çš„çº¿æ€§å†…å­˜ç©ºé—´ä¸åŒ,åŽè€…å­˜åœ¨äºŽ Rust å€¼æ‰€åœ¨çš„ç©ºé—´.WebAssembly ç›®å‰æ— æ³•ç›´æŽ¥è®¿é—®åžƒåœ¾å›žæ”¶å™¨(æˆªè‡³ 2018å¹´ 4æœˆ,é¢„è®¡ä¼šéšç€ â€œwebIDL bindingsâ€ ææ¡ˆè€Œæ”¹å˜).å¦ä¸€æ–¹é¢,JavaScript å¯ä»¥è¯»å–å’Œå†™å…¥ WebAssembly çº¿æ€§å†…å­˜ç©ºé—´,ä½†åªèƒ½ä½œä¸º ArrayBuffer çš„æ ‡é‡å€¼(u8, i32, f64` ç­‰ç­‰â€¦).WebAssembly å‡½æ•°ä¹ŸæŽ¥å—å¹¶è¿”å›žæ ‡é‡å€¼.è¿™äº›æ˜¯æž„æˆæ‰€æœ‰ WebAssembly å’Œ JavaScript é€šä¿¡çš„æž„å»ºå—.wasm_bindgen å®šä¹‰äº†å¦‚ä½•è·¨è¶Šæ­¤è¾¹ç•Œé€‚ç”¨ç¬¦åˆæž„å»ºçš„å…±åŒåè®®.å®ƒæ¶‰åŠè£…ç®± Rust ç»“æž„,å°†æŒ‡é’ˆåŒ…è£…åœ¨ JavaScript ç±»ä¸­æˆ–ä»Ž Rust ç´¢å¼•åˆ° JavaScript å¯¹è±¡è¡¨ä¸­ä»¥ä¾¿ä½¿ç”¨.wasm_bindgen éžå¸¸æ–¹ä¾¿,ä½†å®ƒä¸éœ€è¦æˆ‘ä»¬è€ƒè™‘æ•°æ®è¡¨ç¤º,ä»¥åŠè·¨è¶Šæ­¤è¾¹ç•Œä¼ é€’çš„å€¼å’Œç»“æž„.ç›¸å,æ‚¨å¯ä»¥å°†å…¶è§†ä¸ºå®žçŽ°æ‰€æœ‰ç•Œé¢è®¾è®¡çš„å·¥å…·.åœ¨è®¾è®¡ webAssembly å’Œ JavaScript ä¹‹é—´çš„æŽ¥å£æ—¶,æˆ‘ä»¬å¸Œæœ›é’ˆå¯¹ä¸€ä¸‹å±žæ€§è¿›è¡Œä¼˜åŒ–:  å¤åˆ¶è¿›å…¥ WebAssembly çº¿æ€§å†…å­˜çš„å°†æ˜¯æœ€å°åŒ–çš„.ä¸å¿…è¦çš„å‰¯æœ¬ä¼šå¸¦æ¥ä¸å¿…è¦çš„å¼€é”€.  æœ€å°åºåˆ—åŒ–å’Œååºåˆ—åŒ–.ä¸Žå‰¯æœ¬ç±»ä¼¼,åºåˆ—åŒ–å’Œååºåˆ—åŒ–ä¹Ÿä¼šäº§ç”Ÿå¼€é”€,å¹¶ä¸”é€šå¸¸ä¼šé€ æˆå¤åˆ¶.å¦‚æžœæˆ‘ä»¬å¯ä»¥å°†ä¸é€æ˜Žå¥æŸ„ä¼ é€’ç»™æ•°æ®ç»“æž„ - è€Œä¸æ˜¯åœ¨ä¸€ä¾§å°†å…¶åºåˆ—åŒ–,å†å¤åˆ¶åˆ° WebAssembly çº¿æ€§å†…å­˜ä¸­çš„æŸä¸ªå·²çŸ¥ä½ç½®,å¹¶å†å¦ä¸€ä¾§è¿›è¡Œååºåˆ—åŒ– - æˆ‘ä»¬é€šå¸¸å¯ä»¥å‡å°‘å¤§é‡å¼€é”€.wasm_bindgen å¸®åŠ©æˆ‘ä»¬å®šä¹‰å¯å¤„ç† JavaScript å¯¹è±¡æˆ–å°† Rust ç»“æž„è£…å…¥ä¸é€æ˜Žå¥æŸ„.é€šå¸¸çš„ç»éªŒæ—¶,è‰¯å¥½çš„ JavaScript â†” WebAssembly æŽ¥å£è®¾è®¡é€šå¸¸æ—¶é—´å¤§åž‹çš„,é•¿æœŸå­˜åœ¨çš„æ•°æ®ç»“æž„å®žçŽ°ä¸ºé©»ç•™åœ¨ WebAssembly çš„ Rust ç±»åž‹,å¹¶å°†å…¶ä½œä¸ºä¸é€æ˜Žå¥æŸ„æš´éœ²ç»™ JavaScript .JavaScript è°ƒç”¨å¯¼å‡ºçš„ WebAssembly å‡½æ•°,è¿™äº›å‡½æ•°æŽ¥å—è¿™äº›ä¸é€æ˜Žå¥æŸ„,è½¬æ¢æ•°æ®,æ‰§è¡Œç¹é‡çš„è®¡ç®—,æŸ¥è¯¢æ•°æ®,æœ€ç»ˆè¿”å›žä¸€ä¸ªå°çš„å¯å¤åˆ¶çš„ç»“æžœ.é€šè¿‡è¿”å›žè®¡ç®—çš„å°å°çš„ç»“æžœ,æˆ‘ä»¬é¿å…åœ¨ JavaScript åžƒåœ¾å›žæ”¶å™¨ å’Œ WebAssembly çº¿æ€§å†…å­˜ä¹‹é—´æ¥å›žå¤åˆ¶/åºåˆ—åŒ–æ‰€æœ‰å†…å®¹.åœ¨æˆ‘ä»¬çš„ç”Ÿå‘½æ¸¸æˆä¸­è¿žæŽ¥ Rust å’Œ JavaScripté¦–å…ˆæˆ‘ä»¬åˆ—ä¸¾ä¸€äº›è¦é¿å…çš„å±é™©,æˆ‘ä»¬ä¸å¸Œæœ›å†æ¯ä¸ª tick ä¸Šå°†æ•´ä¸ª universe å¤åˆ¶åˆ° WebAssembly çº¿æ€§å†…å­˜ä¸­.æˆ‘ä»¬ä¸å¸Œæœ›ä¸º universe ä¸­æ¯ä¸ªå•å…ƒåˆ†é…å¯¹è±¡,ä¹Ÿä¸æƒ³å¼ºåˆ¶è¿›è¡Œè·¨è¾¹ç•Œè°ƒç”¨æ¥è¯»å†™æ¯ä¸ªå•å…ƒ.è¿™ä¼šç»™æˆ‘ä»¬ç•™ä¸‹ä»€ä¹ˆ?æˆ‘ä»¬å¯ä»¥å°† universe è¡¨ç¤ºä¸ºä¸€ä¸ªå¹³é¢æ•°ç»„,å®ƒå­˜åœ¨äºŽ WebAssembly çº¿æ€§å†…å­˜ä¸­,æ¯ä¸ªå•å…ƒéƒ½æœ‰ä¸€ä¸ªå­—èŠ‚.  0 æ˜¯æ­»ç»†èƒž,1 æ˜¯æ´»ç»†èƒž.è¿™æ˜¯ 4 Ã— 4  universe å†å†…å­˜ä¸­çš„æ ·å­:è¦åœ¨  universe ä¸­çš„ç»™å®šè¡Œå’Œåˆ—ä¸­æŸ¥æ‰¾å•å…ƒæ ¼çš„æ•°ç»„ç´¢å¼•,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸‹å…¬å¼:index(row, column, universe) = row * width(universe) + columnæˆ‘ä»¬æœ‰å‡ ç§æ–¹æ³•å¯ä»¥å°† universe çš„å•å…ƒæ ¼æš´éœ²ç»™ JavaScript.é¦–å…ˆ,æˆ‘ä»¬å°† Universe å®žçŽ° std::fmt::Display,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥ç”Ÿæˆå‘ˆçŽ°ä¸ºæ–‡æœ¬å­—ç¬¦çš„å•å…ƒæ ¼ Rust String.ç„¶åŽå°†æ­¤ Rust String ä»Ž WebAssembly å…ˆè¡Œå†…å­˜å¤åˆ¶åˆ° JavaScript çš„åžƒåœ¾å›žæ”¶å™¨ä¸­çš„ JavaScript String ä¸­,ç„¶åŽé€šè¿‡ è®¾ç½® HTML textContent æ˜¾ç¤º.å†æœ¬ç« çš„åŽé¢æˆ‘ä»¬å°†æ”¹è¿›è¿™ä¸ªå®žçŽ°,ä»¥é¿å…å†é˜Ÿä¹‹é—´å¤åˆ¶ universe çš„å•å…ƒæ ¼æ¸²æŸ“åˆ° &lt;canvas&gt;(ç”»å¸ƒ).å¦ä¸€ä¸ªå¯è¡Œçš„è®¾è®¡ä»£æ›¿æ–¹æ¡ˆæ˜¯ Rust è¿”å›žæ¯ä¸€ä¸ªæ›´æ”¹çŠ¶æ€åŽçš„ç»†èƒžçš„å•å…ƒæ ¼åˆ˜è¡¨,è€Œä¸æ˜¯æ•´ä¸ª universe æš´éœ²ç»™ JavScript.è¿™æ ·,JavaScript åœ¨æ¸²æŸ“æ—¶ä¸éœ€è¦éåŽ†æ•´ä¸ª universe, åªéœ€è¦ç›¸å…³çš„å­é›†.æŠ˜ä¸­ä¹‹å¤„åœ¨äºŽ,è¿™ç§åŸºäºŽ delta-based è®¾è®¡æ›´éš¾å®žçŽ°.Rustå®žçŽ°åœ¨ä¸Šä¸€ç« ä¸­,æˆ‘ä»¬å…‹éš†äº†ä¸€ä¸ªåˆå§‹é¡¹ç›®æ¨¡æ¿.æˆ‘ä»¬çŽ°åœ¨å°†ä¿®æ”¹è¯¥é¡¹ç›®æ¨¡æ¿.è®©æˆ‘ä»¬é¦–å…ˆä»Ž wasm-game-of-life/ssrc/lib.rs ä¸­åˆ é™¤ alert æ¨¡å—å’Œ greet å‡½æ•°,ç„¶åŽå®šä¹‰å•å…ƒæ ¼çš„ç±»åž‹æ›¿æ¢å®ƒä»¬:#[wasm_bindgen]#[repr(u8)]#[derive(Clone, Copy, Debug, PartialEq, Eq)]pub enum Cell {    Dead = 0,    Alive = 1,}é‡è¦çš„æ˜¯ #[repr(u8)],å’Œ Dead, Alive.#[repr(u8)] å°†æ¯ä¸ªå•å…ƒè¡¨ç¤ºä¸ºä¸€ä¸ªå­—èŠ‚; Dead è¡¨ç¤ºæ­»ç»†èƒž,å˜é‡ä¸º 0; Alive è¡¨ç¤ºæ´»ç»†èƒž,å˜é‡ä¸º â€˜1â€™, è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ç›¸åŠ è½»æ˜“è®¡ç®—å‡ºå•å…ƒæ ¼æ´»ç€çš„é‚»å±….æŽ¥ä¸‹æ¥è®©æˆ‘ä»¬å®šä¹‰ universe,universe å…·æœ‰å®½åº¦å’Œé«˜åº¦,ä»¥åŠ width * height é•¿åº¦çš„ vector.#[wasm_bindgen]pub struct Universe {    width: u32,    height: u32,    cells: Vec&lt;Cell&gt;,}è¦è®¿é—®ç»™å®šè¡Œå’Œåˆ—çš„ cells,æˆ‘ä»¬å°†è¡Œå’Œåˆ—è½¬æ¢ä¸º cells vector ç´¢å¼•,å¦‚å‰æ‰€è¿°:impl Universe {    fn get_index(&amp;self, row: u32, column: u32) -&gt; usize {        (row * self.width + column) as usize    }    // ...}ä¸ºäº†è®¡ç®—ç»†èƒžçš„ä¸‹ä¸€çŠ¶æ€,æˆ‘ä»¬éœ€è¦è®¡ç®—é‚»å±…æ•°é‡æ˜¯å¤šå°‘.è®©æˆ‘ä»¬ç¼–å†™ä¸€ä¸ª live_neighbor_count æ–¹æ³•æ¥åšåˆ°è¿™ä¸€ç‚¹!impl Universe {    // ...    fn live_neighbor_count(&amp;self, row: u32, column: u32) -&gt; u8 {        let mut count = 0;        for delta_row in [self.height - 1, 0, 1].iter().cloned() {            for delta_col in [self.width - 1, 0, 1].iter().cloned() {                if delta_row == 0 &amp;&amp; delta_col == 0 {                    continue;                }                let neighbor_row = (row + delta_row) % self.height;                let neighbor_col = (column + delta_col) % self.width;                let idx = self.get_index(neighbor_row, neighbor_col);                count += self.cells[idx] as u8;            }        }        count    }}live_neighobor_count æ–¹æ³•ä½¿ç”¨ deltas å–ä½™çš„æ–¹æ³•å¯¹ universe è¾¹ç¼˜è¿›è¡Œç‰¹æ®ŠåŒ…è£…æ¥é¿å…ä½¿ç”¨ if. å½“ delta -1 æ—¶,æˆ‘ä»¬æ·»åŠ  self.height - 1 å¹¶ä½¿ç”¨å–ä½™æ¥å®Œæˆè¿™ä»¶äº‹,è€Œä¸æ˜¯ä½¿ç”¨ -1 . row å’Œ column å¯ä»¥ä¸ºé›¶,å¦‚æžœæˆ‘ä»¬è¯•å›¾è®©ä¸º 0 çš„å®ƒä»¬å‡åŽ» 1 ,åˆ™ä¼šå‡ºçŽ°æ— ç¬¦å·æ•´æ•°ä¸‹æº¢.çŽ°åœ¨æˆ‘ä»¬æ‹¥æœ‰äº†ä»Žå½“å‰ä¸€ä»£è®¡ç®—ä¸‹ä¸€ä»£æ‰€éœ€è¦çš„ä¸€åˆ‡!çŽ°åœ¨å°†æ¸¸æˆçš„æ¯ä¸€ä¸ªè§„åˆ™è½¬æ¢ä¸º match è¡¨è¾¾å¼ä¸Šçš„æ¡ä»¶.å¦å¤–,æˆ‘ä»¬å¸Œæœ› javaScript é€šè¿‡ tick æŽ§åˆ¶å‘ç”Ÿçš„æ—¶é—´,å› æ­¤æˆ‘ä»¬ä¼šå°†æ­¤æ–¹æ³•æ”¾åœ¨ #[wasm_bindgen] å—ä¸­,è¿™æ ·å®ƒå°±ä¼šæš´éœ²ç»™ JavaScript./// Public methods, exported to JavaScript.#[wasm_bindgen]impl Universe {    pub fn tick(&amp;mut self) {        let mut next = self.cells.clone();        for row in 0..self.height {            for col in 0..self.width {                let idx = self.get_index(row, col);                let cell = self.cells[idx];                let live_neighbors = self.live_neighbor_count(row, col);                let next_cell = match (cell, live_neighbors) {                    // Rule 1: Any live cell with fewer than two live neighbours                    // dies, as if caused by underpopulation.                    (Cell::Alive, x) if x &lt; 2 =&gt; Cell::Dead,                    // Rule 2: Any live cell with two or three live neighbours                    // lives on to the next generation.                    (Cell::Alive, 2) | (Cell::Alive, 3) =&gt; Cell::Alive,                    // Rule 3: Any live cell with more than three live                    // neighbours dies, as if by overpopulation.                    (Cell::Alive, x) if x &gt; 3 =&gt; Cell::Dead,                    // Rule 4: Any dead cell with exactly three live neighbours                    // becomes a live cell, as if by reproduction.                    (Cell::Dead, 3) =&gt; Cell::Alive,                    // All other cells remain in the same state.                    (otherwise, _) =&gt; otherwise,                };                next[idx] = next_cell;            }        }        self.cells = next;    }    // ...}åˆ°ç›®å‰ä¸ºæ­¢, Universe çš„çŠ¶æ€è¢«è¡¨çŽ°ä¸º cells vector.ä¸ºäº†è®©å…¶æ›´æ˜“è¯»,è®©æˆ‘ä»¬å®žçŽ°ä¸€ä¸ªåŸºæœ¬çš„æ–‡æœ¬æ¸²æŸ“å™¨(text renderer).æˆ‘ä»¬çš„æƒ³æ³•æ—¶å°† Universe é€è¡Œå†™ä¸ºæ–‡æœ¬,å¯¹äºŽæ¯ä¸ªæ´»ç»†èƒž,æˆ‘ä»¬å°†æ‰“å° Unicode å­—ç¬¦ â—¼(â€œé»‘è‰²ä¸­ç­‰æ–¹å—â€).å¯¹äºŽæ­»ç»†èƒž,æˆ‘ä»¬å°†æ‰“å°â—»(â€œç™½è‰²ä¸­ç­‰æ–¹å—â€).é€šè¿‡å®žçŽ° Rust æ ‡å‡†åº“ä¸­ Display çš„ trait, æˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ç§ä»¥é¢å‘ç”¨æˆ·çš„æ–¹å¼çš„æ ¼å¼åŒ–ç»“æž„çš„æ–¹æ³•.è¿™ä¹Ÿä¼šè‡ªåŠ¨ç»™æˆ‘ä»¬ä¸€ä¸ª to_string æ–¹æ³•.use std::fmt;impl fmt::Display for Universe {    fn fmt(&amp;self, f: &amp;mut fmt::Formatter) -&gt; fmt::Result {        for line in self.cells.as_slice().chunks(self.width as usize) {            for &amp;cell in line {                let symbol = if cell == Cell::Dead { 'â—»' } else { 'â—¼' };                write!(f, "{}", symbol)?;            }            write!(f, "\n")?;        }        Ok(())    }}æœ€åŽ,æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæž„é€ å‡½æ•°,ç”¨ä¸€ä¸ªæœ‰è¶£çš„æ´»ç»†èƒžæ­»ç»†èƒžæ¨¡å¼åˆå§‹åŒ–å®‡å®™,ä»¥åŠä¸€ä¸ª render æ–¹æ³•:/// Public methods, exported to JavaScript.#[wasm_bindgen]impl Universe {    // ...    pub fn new() -&gt; Universe {        let width = 64;        let height = 64;        let cells = (0..width * height)            .map(|i| {                if i % 2 == 0 || i % 7 == 0 {                    Cell::Alive                } else {                    Cell::Dead                }            })            .collect();        Universe {            width,            height,            cells,        }    }    pub fn render(&amp;self) -&gt; String {        self.to_string()    }}æœ‰äº†è¿™ä¸ª,æˆ‘ä»¬ Rust å®žçŽ°çš„ç”Ÿå‘½æ¸¸æˆå°±å®Œæˆä¸€åŠäº†!é€šè¿‡ wasm-pack åœ¨ wasm-game-of-life ç›®å½•ä¸­è¿è¡Œå°†å…¶é‡æ–°ç¼–è¯‘ä¸º WebAssembly.ä½¿ç”¨ JavaScript æ¸²æŸ“é¦–å…ˆ,è®©æˆ‘ä»¬åœ¨ wasm-game-of-life/www/index.html ä¸­æ·»åŠ ä¸€ä¸ª &lt;pre&gt; å…ƒç´ æ¥æ¸²æŸ“ universe,å°±æ·»åŠ åœ¨ &lt;script&gt; æ ‡ç­¾ä¸Šæ–¹:&lt;body&gt;  &lt;pre id="game-of-life-canvas"&gt;&lt;/pre&gt;  &lt;script src="./bootstrap.js"&gt;&lt;/script&gt;&lt;/body&gt;æ­¤å¤–,æˆ‘ä»¬å¸Œæœ› &lt;pre&gt; å±…ä¸­åœ¨ç½‘é¡µçš„ä¸­é—´.æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ CSS å¼¹æ€§ç›’å­æ¥å®Œæˆè¿™é¡¹ä»»åŠ¡. åœ¨ wasm-game-of-life/www/index.html ä¸­ headæ ‡ç­¾æ·»åŠ ä»¥ä¸‹ä»£ç :&lt;style&gt;  body {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;    display: flex;    flex-direction: column;    align-items: center;    justify-content: center;  }&lt;/style&gt;åœ¨ wasm-game-of-life/www/index.js çš„é¡¶éƒ¨,è®©æˆ‘ä»¬å°†å¯¼å…¥çš„ greet æ–¹æ³•æ›¿æ¢ä¸º Universe:import { Universe } from "wasm-game-of-life";å¦å¤–,è®©æˆ‘ä»¬ä¸ºåˆšåˆšæ·»åŠ çš„ &lt;pre&gt; å…ƒç´ å®žä¾‹åŒ–ä¸€ä¸ªæ–°çš„ Universe:const pre = document.getElementById("game-of-life-canvas");const universe = Universe.new();JavaScript è¿è¡Œåœ¨ä¸€ä¸ª requestAnimationFrame å¾ªçŽ¯ä¸­.åœ¨æ¯æ¬¡è¿­ä»£ä¸­,ä»–å°†å½“å‰ Universe ç»˜åˆ¶åˆ° &lt;pre&gt; ,ç„¶åŽè°ƒç”¨ Universe::tick.const renderLoop = () =&gt; {    pre.textContent = universe.render()    universe.tick();    requestAnimationFrame(renderLoop);}è¦å¼€å§‹æ¸²æŸ“è¿‡ç¨‹å‰,æˆ‘ä»¬è¿˜è¦ä¸ºæ¸²æŸ“å¾ªçŽ¯çš„ç¬¬ä¸€æ¬¡è¿­ä»£è¿›è¡Œåˆå§‹åŒ–è°ƒç”¨:requestAnimationFrame(renderLoop);ç¡®ä¿æ‚¨çš„å¼€å‘æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ(åœ¨ wasm-game-of-life/www ç›®å½•ä¸‹è¿è¡Œ npm run start),è®¿é—® http://localhost:8080/ é¡µé¢åº”è¯¥æ˜¯è¿™æ ·çš„:ç›´æŽ¥ä»Žå†…å­˜æ¸²æŸ“åˆ°ç”»å¸ƒåœ¨ Rust ä¸­ç”Ÿæˆ(å¹¶åˆ†é…)ä¸€ä¸ª String,ç„¶åŽè®© wasm-bindgen å°†å®ƒè½¬æ¢ä¸ºä¸€ä¸ªæœ‰æ•ˆçš„ JavaScript å­—ç¬¦ä¸²,å°±ä¼šäº§ç”Ÿä¸å¿…è¦çš„ universe cells å‰¯æœ¬.ç”±äºŽ JavaScript ä»£ç å·²ç»çŸ¥é“äº† universe çš„å®½åº¦å’Œé«˜åº¦,å› æ­¤æˆ‘ä»¬å°†ä¿®æ”¹ render æ–¹æ³•ä»¥è¿”å›ž cells æ•°ç»„å¼€å¤´çš„æŒ‡é’ˆ.æ­¤å¤–,æˆ‘ä»¬å°†ä½¿ç”¨ Canvas APIæ¥ä»£æ›¿ Unicode æ–‡æœ¬,è€Œä¸æ˜¯æ¸²æŸ“ä¸º Unicode æ–‡æœ¬,æˆ‘ä»¬å°†åœ¨æœ¬æ•™ç¨‹å‰©ä½™çš„éƒ¨åˆ†ä½¿ç”¨æ­¤è®¾è®¡.åœ¨ wasm-game-of-life/www/index.html é‡Œ,è®©æˆ‘ä»¬ç”¨ &lt;canvas&gt; å–ä»£ä¹‹å‰æ·»åŠ  &lt;pre&gt; æ¥å‘ˆçŽ°å†…å®¹(å®ƒä¹Ÿåº”è¯¥åœ¨æˆ‘ä»¬åŠ è½½ JavaScript çš„è„šæœ¬å‰.)&lt;body&gt;  &lt;canvas id="game-of-life-canvas"&gt;&lt;/canvas&gt;  &lt;script src='./bootstrap.js'&gt;&lt;/script&gt;&lt;/body&gt;ä¸ºäº†ä»Ž Rust å®žçŽ°ä¸­èŽ·å¾—å¿…è¦çš„ä¿¡æ¯,æˆ‘ä»¬éœ€è¦ä¸º universe çš„ width, height å’Œ æŒ‡å‘ cell æ•°ç»„çš„æŒ‡é’ˆæ·»åŠ æ›´å¤šçš„ getter å‡½æ•°.è¿™äº›éƒ½å°†æš´éœ²ç»™ JavaScript.å°†è¿™äº›æ·»åŠ åˆ° wasm-game-of-life/src/lib.rs:/// Public methods, exported to JavaScript.#[wasm_bindgen]impl Universe {    // ...    pub fn width(&amp;self) -&gt; u32 {        self.width    }    pub fn height(&amp;self) -&gt; u32 {        self.height    }    pub fn cells(&amp;self) -&gt; *const Cell {        self.cells.as_ptr()    }}æŽ¥ä¸‹æ¥,åœ¨ wasm-game-of-life/www/index.js ä¸­,è®©æˆ‘ä»¬ä»Ž wasm-game-of-life å¯¼å…¥ Cell,å¹¶å®šä¹‰ä¸€äº›å¸¸é‡,æˆ‘ä»¬å°†åœ¨ æ¸²æŸ“åˆ°ç”»å¸ƒæ—¶ä½¿ç”¨è¿™äº›å¸¸é‡:import { Universe, Cell } from "wasm-game-of-life";const CELL_SIZE = 5; // pxconst GRID_COLOR = "#CCCCCC";const DEAD_COLOR = "#FFFFFF";const ALIVE_COLOR = "#000000";çŽ°åœ¨,è®©æˆ‘ä»¬é‡å†™å…¶ä½™çš„ JavaScript ä»£ç .ä¸å†å†™å…¥ç»™ &lt;pre&gt; å†™å…¥ textContent è€Œæ˜¯ç»˜åˆ¶åˆ° &lt;canvas&gt;:// Construct the universe, and get its width and height.const universe = Universe.new();const width = universe.width();const height = universe.height();// Give the canvas room for all of our cells and a 1px border// around each of them.const canvas = document.getElementById("game-of-life-canvas");canvas.height = (CELL_SIZE + 1) * height + 1;canvas.width = (CELL_SIZE + 1) * width + 1;const ctx = canvas.getContext('2d');const renderLoop = () =&gt; {  universe.tick();  drawGrid();  drawCells();  requestAnimationFrame(renderLoop);};ä¸ºäº†åœ¨ cells ä¹‹é—´ç»˜åˆ¶ç½‘æ ¼,æˆ‘ä»¬ç»˜åˆ¶ä¸€ç»„ç­‰é—´è·çš„æ°´å¹³çº¿,å’Œä¸€ç»„ç­‰é—´è·çš„åž‚ç›´çº¿.è¿™äº›æ¨ªçºµçº¿äº¤é”™å½¢æˆç½‘æ ¼.const drawGrid = () =&gt; {  ctx.beginPath();  ctx.strokeStyle = GRID_COLOR;  // Vertical lines.  for (let i = 0; i &lt;= width; i++) {    ctx.moveTo(i * (CELL_SIZE + 1) + 1, 0);    ctx.lineTo(i * (CELL_SIZE + 1) + 1, (CELL_SIZE + 1) * height + 1);  }  // Horizontal lines.  for (let j = 0; j &lt;= height; j++) {    ctx.moveTo(0,                           j * (CELL_SIZE + 1) + 1);    ctx.lineTo((CELL_SIZE + 1) * width + 1, j * (CELL_SIZE + 1) + 1);  }  ctx.stroke();};æˆ‘ä»¬å¯ä»¥é€šè¿‡ memory ç›´æŽ¥è®¿é—® WebAssembly çš„çº¿æ€§å†…å­˜, memory æ˜¯ç›´æŽ¥åœ¨åŽŸå§‹æ¨¡å— wasm_game_of_life_bg ä¸­å®šä¹‰çš„.ä¸ºäº†ç»˜åˆ¶ cells,æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªæŒ‡å‘ universe cells çš„æŒ‡é’ˆ,æž„å»ºä¸€ä¸ª Uint8Array è¦†ç›– cells ç¼“å†²åŒº,åœ¨æ¯ä¸ªç»†èƒžä¸Šè¿­ä»£,å¹¶æ ¹æ®ç»†èƒžæ˜¯æ­»çš„è¿˜æ˜¯æ´»çš„åˆ†åˆ«ç»˜åˆ¶ä¸€ä¸ªç™½è‰²æˆ–é»‘è‰²çŸ©å½¢.é€šè¿‡ä½¿ç”¨æŒ‡é’ˆå’Œ Uint8Array ,æˆ‘ä»¬é¿å…åœ¨æ¯ä¸ª tick ä¸Šè·¨è¾¹ç•Œå¤åˆ¶ cells.// Import the WebAssembly memory at the top of the file.import { memory } from "wasm-game-of-life/wasm_game_of_life_bg";// ...const getIndex = (row, column) =&gt; {  return row * width + column;};const drawCells = () =&gt; {  const cellsPtr = universe.cells();  const cells = new Uint8Array(memory.buffer, cellsPtr, width * height);  ctx.beginPath();  for (let row = 0; row &lt; height; row++) {    for (let col = 0; col &lt; width; col++) {      const idx = getIndex(row, col);      ctx.fillStyle = cells[idx] === Cell.Dead        ? DEAD_COLOR        : ALIVE_COLOR;      ctx.fillRect(        col * (CELL_SIZE + 1) + 1,        row * (CELL_SIZE + 1) + 1,        CELL_SIZE,        CELL_SIZE      );    }  }  ctx.stroke();};è¦å¼€å§‹æ¸²æŸ“è¿‡ç¨‹,æˆ‘ä»¬å°†ä½¿ç”¨ä¸Žä¸Šé¢ç›¸åŒçš„ä»£ç æ¥å¼€å§‹æ¸²æŸ“å¾ªçŽ¯çš„ç¬¬ä¸€æ¬¡è¿­ä»£:drawGrid();drawCells();requestAnimationFrame(renderLoop);æ³¨æ„, åœ¨è°ƒç”¨ requestAnimationFrame(renderLoop) ä¹‹å‰è°ƒç”¨ drawGrid() å’Œ drawCells().æˆ‘ä»¬è¿™æ ·åšçš„åŽŸå› æ˜¯åœ¨æˆ‘ä»¬è¿›è¡Œä¿®æ”¹ä¹‹å‰ç»˜åˆ¶ universe çš„åˆå§‹çŠ¶æ€.å¦‚æžœæˆ‘ä»¬åªæ˜¯ç®€å•çš„è°ƒç”¨ requestAnimationFrame(renderLoop) ,æˆ‘ä»¬æœ€ç»ˆä¼šå¾—åˆ°è¿™æ ·ä¸€ç§æƒ…å†µ,ç¬¬ä¸€æ­£è¢«ç»˜åˆ¶å®žé™…ä¸Šå®žåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨ universe.tick() ä¹‹åŽ,è¿™äº›ç»†èƒžå°†å‘ˆçŽ°ç”Ÿå‘½å‘¨æœŸçš„ç¬¬äºŒä¸ª tick.å®ƒèµ·ä½œç”¨äº†!åœ¨ wasm-game-of-life ç›®å½•é€šè¿‡ root æƒé™è¿è¡Œæ­¤å‘½ä»¤æ¥é‡å»º WebAssembly å’Œç»‘å®šç²˜åˆå‰‚.wasm-pack buildç¡®ä¿æ‚¨çš„å¼€å‘æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ.å¦‚æžœä¸æ˜¯è¯·ä»Ž wasm-game-of-life/www ç›®å½•ä¸­å†æ¬¡å¯åŠ¨å®ƒ:npm run startå¦‚æžœä½ åˆ·æ–° [http://localhost:8080/] æ‚¨åº”è¯¥ä¼šæ”¶åˆ°ä¸€ä¸ªä»¤äººå…´å¥‹çš„ life å±•ç¤º!é™¤æ­¤ä¹‹å¤–,è¿˜æœ‰ä¸€ä¸ªéžå¸¸ç®€æ´çš„åä¸º Hashlife çš„ç®—æ³•æ¥å®žçŽ°ç”Ÿå‘½æ¸¸æˆ.å®ƒä½¿ç”¨ç§¯æžçš„ memoizing,å¹¶ä¸”å®žé™…ä¸Šå¯ä»¥ä»¥æŒ‡æ•°çš„é€Ÿåº¦æ›´å¿«çš„è®¡ç®—åŽä»£!é‰´äºŽæ­¤,æ‚¨å¯èƒ½æƒ³çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨æœ¬æ•™ç¨‹ä¸­å¹´æ²¡æœ‰ä½¿ç”¨ heshlife å®žçŽ°.å› ä¸ºå®ƒè¶…å‡ºäº†æœ¬æ–‡çš„èŒƒå›´,æˆ‘ä»¬ä¸“æ³¨äºŽå®žçŽ° Rust å’Œ WebAssembly çš„ç»“åˆ,ä½†æˆ‘ä»¬å¼ºçƒˆæŽ¨èæ‚¨è‡ªå·±åŽ»äº†è§£ hashlife!ç»ƒä¹   ç”¨å•ä¸ªå¤ªç©ºé£žèˆ¹åˆå§‹åŒ– universe.      ä¸æ˜¯ç¡¬ç¼–ç è¿›è¡Œåˆå§‹åŒ– universe,è€Œæ˜¯äº§ç”Ÿä¸€ä¸ªéšæœºçš„,æ¯ä¸ªç»†èƒžæœ‰ä¸€åŠå­˜æ´»æœºä¼šçš„ universe.  æç¤º: ä½¿ç”¨ js-sys crate å¯¼å…¥ Math.random JavaScript å‡½æ•°      ç­”æ¡ˆ  é¦–å…ˆ,å°† `js-sys` ä¾èµ–æ·»åŠ åˆ° `wasm-game-of-life/Cargo.toml`:  ```toml  # ...  [dependencies]  js-sys = "0.3"  # ...  ```  ç„¶åŽ,ä½¿ç”¨ js_sys::Math::random å‡½æ•°è¿›è¡ŒæŽ·ç¡¬å¸:  ```rust  extern crate js_sys;  // ...  if js_sys::Math::random() &lt; 0.5 {      // Alive...  } else {      // Dead...  }  ```  &lt;/pre&gt;          ç”¨å­—èŠ‚è¡¨ç¤ºæ¯ä¸ªå•å…ƒæ ¼å¯ä»¥è½»æ¾åœ°å¯¹å•å…ƒæ ¼è¿›è¡Œè¿­ä»£,ä½†å®ƒæ˜¯ä»¥æµªè´¹å†…å­˜çš„ä»£ä»·è€Œæ¥çš„.æ¯ä¸ªå­—èŠ‚æ˜¯ 8 ä¸º,ä½†æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªæ¯”ç‰¹æ¥è¡¨ç¤ºæ¯ä¸ªç»†èƒžæ˜¯æ­»çš„è¿˜æ˜¯æ´»çš„.é‡æ–°è°ƒæ•´æ•°æ®è¡¨ç¤º,ä»¥ä¾¿æ¯ä¸ªå•å…ƒä»…ä½¿ç”¨ä¸€ä¸ªæ¯”ç‰¹çš„ç©ºé—´.      ç­”æ¡ˆ  åœ¨ Rust ä¸­, ä½ å¯ä»¥ä½¿ç”¨ [`fuxedbutset` crate çš„ `FixedBitSet` ç±»åž‹](https://crates.io/crates/fixedbitset) æ¥è¡¨ç¤º cells è€Œä¸æ˜¯ä½¿ç”¨ `Vec`:  ```rust  // Make sure you also added the dependency to Cargo.toml!  extern crate fixedbitset;  use fixedbitset::FixedBitSet;  // ...  #[wasm_bindgen]  pub struct Universe {      width: u32,      height: u32,      cells: FixedBitSet,  }  ```  å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è°ƒæ•´ Universe æž„é€ å‡½æ•°:  ```rust  pub fn new() -&gt; Universe {      let width = 64;      let height = 64;      let size = (width * height) as usize;      let mut cells = FixedBitSet::with_capacity(size);      for i in 0..size {          cells.set(i, i % 2 == 0 || i % 7 == 0);      }      Universe {          width,          height,          cells,      }  }  ```  è¦æ›´æ–° Universe çš„ä¸‹ä¸€åˆ»åº¦ä¸­çš„ cells,æˆ‘ä»¬ä½¿ç”¨ `FixedBitSet` çš„ set æ–¹æ³•:  ```rust  next.set(idx, match (cell, live_neighbors) {      (true, x) if x &lt; 2 =&gt; false,      (true, 2) | (true, 3) =&gt; true,      (true, x) if x &gt; 3 =&gt; false,      (false, 3) =&gt; true,      (otherwise, _) =&gt; otherwise  });  ```  è¦å°†æŒ‡å‘å¼€å¤´çš„æ‰§æ”¿ä¼ é€’ç»™ JavaScript,å¯ä»¥å°† `FixedBitSet` è½¬æ¢ä¸º slice,ç„¶åŽå°† slice è½¬æ¢ä¸ºæŒ‡é’ˆ:  ```rust  #[wasm_bindgen]  impl Universe {      // ...      pub fn cells(&amp;self) -&gt; *const u32 {          self.cells.as_slice().as_ptr()      }  }  ```  åœ¨ JavaScript ä¸­,ä»Ž wasm å†…å­˜æž„é€  `Uint8Array` ä¸Žä¹‹å‰ç›¸åŒ,åªæ˜¯æ•°ç»„çš„é•¿åº¦ä¸å†æ˜¯ `width * height`,è€Œæ˜¯ `width * height / 8` ,å› ä¸ºæˆ‘ä»¬æ¯ä¸ªç»†èƒžåªæœ‰ä¸€æ¯”ç‰¹è€Œä¸æ˜¯ä¸€ä¸ªå­—èŠ‚:  ```js  const cells = new Uint8Array(memory.buffer, cellsPtr, width * height / 8);  ```  ç»™å®šç´¢å¼•å’Œ Uint8Array`,æ‚¨ç”¨ä»¥ä¸‹å‡½æ•°ç¡®å®š n th æ¯”ç‰¹æ˜¯å¦è®¾ç½®:  ```js  const bitIsSet = (n, arr) =&gt; {  const byte = Math.floor(n / 8);  const mask = 1 &lt;&lt; (n % 8);  return (arr[byte] &amp; mask) === mask;  };  ```  æœ‰é‰´äºŽæ­¤,æ–°ç‰ˆæœ¬çš„ drawCells å¦‚ä¸‹æ‰€ç¤º:  ```js  const drawCells = () =&gt; {  const cellsPtr = universe.cells();  // This is updated!  const cells = new Uint8Array(memory.buffer, cellsPtr, width * height / 8);  ctx.beginPath();  for (let row = 0; row &lt; height; row++) {      for (let col = 0; col &lt; width; col++) {      const idx = getIndex(row, col);      // This is updated!      ctx.fillStyle = bitIsSet(idx, cells)          ? ALIVE_COLOR          : DEAD_COLOR;      ctx.fillRect(          col * (CELL_SIZE + 1) + 1,          row * (CELL_SIZE + 1) + 1,          CELL_SIZE,          CELL_SIZE      );      }  }  ctx.stroke();  };  ```  &lt;/details&gt;  ç›®å½•  ä¸‹ä¸€ç¯‡:æµ‹è¯•åº·å¨ç”Ÿå‘½æ¸¸æˆ  ä¸Šä¸€ç¯‡:åº·å¨ç”Ÿå‘½æ¸¸æˆè§„åˆ™  via: https://rustwasm.github.io/book/game-of-life/implementing.html  è¯‘è€…: lkighy  æ ¡å¯¹: -]]></content>
      <categories>
        
          <category> rust/WebAssembly </category>
        
      </categories>
      <tags>
        
          <tag> rust </tag>
        
          <tag> WebAssembly </tag>
        
          <tag> ç¿»è¯‘ </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[åº·å¨ç”Ÿå‘½æ¸¸æˆè§„åˆ™]]></title>
      <url>/rust/webassembly/2019/07/13/%E5%BA%B7%E5%A8%81%E7%94%9F%E5%91%BD%E6%B8%B8%E6%88%8F%E8%A7%84%E5%88%99/</url>
      <content type="text"><![CDATA[æ³¨æ„: å¦‚æžœæ‚¨å·²ç»ç†Ÿæ‚‰åº·å¨ç”Ÿå‘½æ¸¸æˆåŠå…¶è§„åˆ™,è¯·è·³åˆ°ä¸‹ä¸€éƒ¨åˆ†!ç»´åŸºç™¾ç§‘å¯¹åº·å¨ç”Ÿå‘½æ¸¸æˆè§„åˆ™è¿›è¡Œäº†å¾ˆå¥½çš„æè¿°:  ç”Ÿå‘½æ¸¸æˆä¸­ï¼Œå¯¹äºŽä»»æ„ç»†èƒžï¼Œè§„åˆ™å¦‚ä¸‹:æ¯ä¸ªç»†èƒžæœ‰ä¸¤ç§çŠ¶æ€ - å­˜æ´»æˆ–æ­»äº¡ï¼Œæ¯ä¸ªç»†èƒžä¸Žä»¥è‡ªèº«ä¸ºä¸­å¿ƒçš„å‘¨å›´å…«æ ¼ç»†èƒžäº§ç”Ÿäº’åŠ¨(å¦‚å›¾ï¼Œé»‘è‰²ä¸ºå­˜æ´»ï¼Œç™½è‰²ä¸ºæ­»äº¡)      å½“å‰ç»†èƒžä¸ºå­˜æ´»çŠ¶æ€æ—¶,å½“å‘¨å›´çš„å­˜æ´»ç»†èƒžä½ŽäºŽ2ä¸ªæ—¶(ä¸åŒ…å«2ä¸ª)ï¼Œè¯¥ç»†èƒžå˜æˆæ­»äº¡çŠ¶æ€.(æ¨¡æ‹Ÿç”Ÿå‘½æ•°é‡ç¨€å°‘).    å½“å‰ç»†èƒžä¸ºå­˜æ´»çŠ¶æ€æ—¶.å½“å‘¨å›´æœ‰2ä¸ªæˆ–3ä¸ªå­˜æ´»ç»†èƒžæ—¶.è¯¥ç»†èƒžä¿æŒåŽŸæ ·.    å½“å‰ç»†èƒžä¸ºå­˜æ´»çŠ¶æ€æ—¶,å½“å‘¨å›´æœ‰è¶…è¿‡3ä¸ªå­˜æ´»ç»†èƒžæ—¶,è¯¥ç»†èƒžå˜æˆæ­»äº¡çŠ¶æ€.(æ¨¡æ‹Ÿç”Ÿå‘½æ•°é‡è¿‡å¤š)    å½“å‰ç»†èƒžä¸ºæ­»äº¡çŠ¶æ€æ—¶,å½“å‘¨å›´æœ‰3ä¸ªå­˜æ´»ç»†èƒžæ—¶,è¯¥ç»†èƒžå˜æˆå­˜æ´»çŠ¶æ€.(æ¨¡æ‹Ÿç¹æ®–)å¯ä»¥æŠŠæœ€åˆçš„ç»†èƒžç»“æž„å®šä¹‰ä¸ºç§å­,å½“æ‰€æœ‰åœ¨ç§å­ä¸­çš„ç»†èƒžåŒæ—¶è¢«ä»¥ä¸Šè§„åˆ™å¤„ç†åŽ,å¯ä»¥å¾—åˆ°ç¬¬ä¸€ä»£ç»†èƒžå›¾.æŒ‰è§„åˆ™ç»§ç»­å¤„ç†å½“å‰çš„ç»†èƒžå›¾,å¯ä»¥å¾—åˆ°ä¸‹ä¸€ä»£çš„ç»†èƒžå›¾,å‘¨è€Œå¤å§‹.  è€ƒè™‘ä»¥ä¸‹åˆå§‹ universe :æˆ‘ä»¬å¯ä»¥é€šè¿‡è€ƒè™‘æ¯ä¸ªå•ä½æ¥è®¡ç®—ä¸‹ä¸€ä»£.å·¦ä¸Šè§’çš„å•å…ƒæ ¼å·²ç»æ­»äº†.è§„åˆ™ (4) é€‚ç”¨äºŽæ­»ç»†èƒžçš„å”¯ä¸€è½¬æ¢è§„åˆ™.ä½†æ˜¯,å› ä¸ºå·¦ä¸Šè§’çš„å•å…ƒæ ¼æ²¡æœ‰æ­£å¥½ä¸‰ä¸ªæ´»ç€çš„é‚»å±…,æ‰€ä»¥è½¬æ¢è§„åˆ™ä¸é€‚ç”¨,å¹¶ä¸”å®ƒåœ¨ä¸‹ä¸€ä»£ä»»ç„¶å¦‚æ­¤.å¯¹äºŽç¬¬ä¸€è¡Œçš„æ¯ä¸ªå…¶ä»–å•ä½ä¹Ÿæ˜¯å¦‚æ­¤.å½“æˆ‘ä»¬è€ƒè™‘ç¬¬äºŒè¡Œç¬¬ä¸‰åˆ—çš„æ—¶å€™,æƒ…å†µå˜å¾—æœ‰è¶£äº†.å¯¹äºŽæ´»ç»†èƒž,å‰ä¸‰ä¸ªè§„åˆ™ä¸­çš„ä»»ä½•ä¸€ä¸ªéƒ½å¯èƒ½é€‚ç”¨.åœ¨è¿™ä¸ªå•å…ƒæ ¼çš„æƒ…å†µä¸‹,å®ƒåªæœ‰ä¸€ä¸ªæ´»ç€çš„é‚»å±…,å› æ­¤è§„åˆ™ (1) é€‚ç”¨:è¿™ä¸ªç»†èƒžå°†åœ¨ä¸‹ä¸€ä»£æ­»äº¡.åŒæ ·çš„å‘½è¿ç­‰ç€ç¬¬å››è¡Œç¬¬ä¸‰åˆ—çš„ç»†èƒž.ä¸­é—´æ´»ç€çš„ä½Žä¿æœ‰ä¸¤ä¸ªé‚»å±…:é¡¶éƒ¨å’Œåº•éƒ¨çš„æ´»ç»†èƒž.è¿™æ„å‘³ç€è§„åˆ™ (2) é€‚ç”¨,å®ƒå°†å­˜æ´»è‡³ä¸‹ä¸€ä»£.æœ€æœ‰è¶£çš„æ¡ˆä¾‹æ˜¯ä¸­é—´æ´»ç€çš„ç»†èƒžçš„å·¦ä¾§å’Œå³ä¾§çš„æ­»ç»†èƒž.è¿™ä¸‰ä¸ªæ´»ç»†èƒžéƒ½æ˜¯è¿™äº›ç»†èƒžçš„é‚»å±…,è¿™æ„å‘³ç€è§„åˆ™ (4) é€‚ç”¨,è¿™äº›ç»†èƒžå°†åœ¨ä¸‹ä¸€ä»£ä¸­å­˜æ´».æŠŠä»–ä»¬æ”¾åœ¨ä¸€èµ·,æˆ‘ä»¬åœ¨ä¸‹ä¸€ä»£å¾—åˆ°è¿™ä¸ª universe :ä»Žè¿™äº›ç®€å•çš„,ç¡®å®šçš„è§„åˆ™,å‡ºçŽ°å¥‡æ€ªçš„ä»¤äººå…´å¥‹çš„è¡Œä¸º:            æ»‘ç¿”æœº(4è½®)      è„‰å†²æ˜Ÿ(å‘¨æœŸ=3è½®)      å¤ªç©ºèˆ¹(4è½®)                                    ç»ƒä¹       æ‰‹åŠ¨è®¡ç®—æˆ‘ä»¬ç¤ºä¾‹çš„ universe çš„ä¸‹ä¸€ä»£.æ„Ÿè§‰åˆ°ç†Ÿæ‚‰å—?      ç­”æ¡ˆ  å®ƒåº”è¯¥åˆå›žåˆ°äº†ç¤ºä¾‹ universe çš„åˆå§‹çŠ¶æ€:            ä½ èƒ½æ‰¾åˆ°ä¸€ä¸ªç¨³å®šçš„åˆå§‹ universe å—?ä¹Ÿå°±æ˜¯è¯´æ¯ä¸€ä»£éƒ½æ˜¯ä¸€æ ·çš„ universe.      ç­”æ¡ˆ  æœ‰æ— æ•°çš„ç¨³å®š universe !å¹³å‡¡ç¨³å®šçš„ universe æ˜¯ç©ºçš„ universe .ä¸€ä¸ª 2 Ã— 2 æ–¹æ ¼çš„æ´»ç»†èƒžä¹Ÿæ˜¯ä¸€ä¸ªç¨³å®šçš„ universe      ç›®å½•  ä¸‹ä¸€ç¯‡:å®žçŽ°åº·å¨ç”Ÿå‘½æ¸¸æˆ  ä¸Šä¸€ç¯‡:hello,World!  via: https://rustwasm.github.io/book/game-of-life/rules.html  è¯‘è€…: lkighy  æ ¡å¯¹: -]]></content>
      <categories>
        
          <category> rust/WebAssembly </category>
        
      </categories>
      <tags>
        
          <tag> rust </tag>
        
          <tag> WebAssembly </tag>
        
          <tag> ç¿»è¯‘ </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Hello,World]]></title>
      <url>/rust/webassembly/2019/07/12/Hello,World/</url>
      <content type="text"><![CDATA[å¼€å§‹ä¹‹å‰,è¯·ç¡®ä¿ä»¥æŒ‰ç…§å®‰è£…è¯´æ˜Žè¿›è¡Œæ“ä½œ.å…‹éš†é¡¹ç›®æ¨¡æ¿è¿™ä»½é¡¹ç›®æ¨¡æ¿é¢„å…ˆé…ç½®å¥½äº†é»˜è®¤å€¼,å› æ­¤æ‚¨å¯ä»¥å¿«é€Ÿæž„å»ºã€é›†æˆã€æ‰“åŒ… web ä»£ç .ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å…‹éš†é¡¹ç›®æ¨¡æ¿ï¼šcargo generate --git https://github.com/rustwasm/wasm-pack-templateè¿™å› è¯¥ä¼šæç¤ºæ‚¨è¾“å…¥æ–°é¡¹ç›®çš„åç§°.æˆ‘ä»¬å°†ä½¿ç”¨ wasm-game-of-life.wasm-game-of-lifeé¡¹ç›®ç»“æž„è¿›å…¥ wasm-game-of-life é¡¹ç›®cd wasm-game-of-lifeè®©æˆ‘ä»¬çœ‹çœ‹ä»–çš„å†…å®¹wasm-game-of-life/â”œâ”€â”€ Cargo.tomlâ”œâ”€â”€ LICENSE_APACHEâ”œâ”€â”€ LICENSE_MITâ”œâ”€â”€ README.mdâ””â”€â”€ src    â”œâ”€â”€ lib.rs    â””â”€â”€ utils.rsè®©æˆ‘ä»¬è¯¦ç»†ä»‹ç»è¿™äº›æ–‡ä»¶wasm-game-of-life/Cargo.tomlCargo.toml æ–‡ä»¶æŒ‡å®šè´§ç‰©çš„ä¾èµ–å…³ç³»å’Œå…ƒæ•°æ®,Rust çš„åŒ…ç®¡ç†å™¨å’Œæž„å»ºå·¥å…·.è¿™ä¸ªé¢„å…ˆé…ç½®äº†ä¸€ä¸ª wasm-game-of-life ä¾èµ–é¡¹,æˆ‘ä»¬å°†åœ¨åŽé¢æ·±å…¥ä»‹ç»ä¸€äº›å¯é€‰çš„ä¾èµ–é¡¹,å¹¶ä¸”æ­£ç¡®åˆå§‹åŒ– crate-type ä»¥ç”Ÿæˆ .wasm åº“.wasm-game-of-life/src/lib.rssrc/lib.rs æ–‡ä»¶æ˜¯æˆ‘ä»¬è¦ç¼–è¯‘ä¸º WebAssembly çš„ Rust åŒ…çš„æ ¹.å®ƒä½¿ç”¨ wasm-bindgen ä¸Ž JavaScript è¿›è¡Œäº¤äº’.å®ƒå¯¼å…¥ window.alert JavaScript å‡½æ•°,å¹¶å¯¼å‡º greet Rust å‡½æ•°,è¯¥å‡½æ•°æ˜¾ç¤ºè­¦å‘Šé—®å€™æ¶ˆæ¯.æ³¨: ä¸‹é¢çš„ä»£ç å¤åˆ¶è¿›é¡¹ç›®,å¦‚æžœæŠ¥é”™,åˆ™éœ€è¦åœ¨ Cargo.lock ä¸‹ dependencies æ·»åŠ  cfg-if = "0.1.9" è¡¨ç¤ºå¯¼å…¥cfg-if åŒ…extern crate cfg_if;extern crate wasm_bindgen;mod utils;use cfg_if::cfg_if;use wasm_bindgen::prelude::*;cfg_if! {    // When the `wee_alloc` feature is enabled, use `wee_alloc` as the global    // allocator.    if #[cfg(feature = "wee_alloc")] {        extern crate wee_alloc;        #[global_allocator]        static ALLOC: wee_alloc::WeeAlloc = wee_alloc::WeeAlloc::INIT;    }}#[wasm_bindgen]extern {    fn alert(s: &amp;str);}#[wasm_bindgen]pub fn greet() {    alert("Hello, wasm-game-of-life!");}wasm-game-of-life/src/utils.rssrc/utils.rs æ¨¡å—æä¾›äº†ä¸€äº›å¸¸ç”¨çš„å®žç”¨ç¨‹åº,å¯ä»¥æ›´è½»æ¾çš„å°† Rust ç¼–è¯‘æˆ WebAssembly.æˆ‘ä»¬å°†åœ¨æœ¬æ•™ç¨‹åŽé¢æ›´è¯¦ç»†åœ°ä»‹ç»è¿™äº›ä½¿ç”¨ç¨‹åº,ä¾‹å¦‚å½“æˆ‘ä»¬è°ƒè¯• wasm ä»£ç æ˜¯,ä½†æ˜¯çŽ°åœ¨æˆ‘ä»¬å¯ä»¥å¿½ç•¥æ­¤æ–‡ä»¶.æž„å»ºé¡¹ç›®æˆ‘ä»¬ä½¿ç”¨ wasm-pack è¿›è¡Œä»¥ä¸‹æž„å»ºæ­¥éª¤ï¼š  ç¡®ä¿æˆ‘ä»¬æœ‰ Rust 1.30 æˆ–æ›´é«˜ç‰ˆæœ¬,å¹¶ä¸”é€šè¿‡ rustup å®‰è£…äº† wasm32-unknown-unknown ,  é€šè¿‡ cargo å°†æˆ‘ä»¬çš„ Rust æºä»£ç ç¼–è¯‘æˆ WebAssembly .wasm é¡¹ç›®.  ä½¿ç”¨ wasm-bindgen ç”Ÿæˆ Javascript API ä»¥ä½¿ç”¨æˆ‘ä»¬çš„ Rust ç”Ÿæˆçš„ WebAssembly.è¦å®Œæˆè¿™äº›,è¯·åœ¨é¡¹ç›®ç›®å½•è¿è¡Œæ­¤å‘½ä»¤:wasm-pack buildæž„å»ºå®ŒæˆåŽ,æˆ‘ä»¬å¯ä»¥åœ¨ pkg ç›®å½•ä¸­æ‰¾åˆ°å®ƒçš„æ–‡ä»¶,å®ƒåº”è¯¥åŒ…å«ä»¥ä¸‹å†…å®¹ï¼špkg/â”œâ”€â”€ package.jsonâ”œâ”€â”€ README.mdâ”œâ”€â”€ wasm_game_of_life_bg.wasmâ”œâ”€â”€ wasm_game_of_life.d.tsâ””â”€â”€ wasm_game_of_life.jsREADME.md æ–‡ä»¶æ˜¯ä»Žä¸»é¡¹ç›®å¤åˆ¶çš„,ä½†å…¶ä»–æ–‡ä»¶æ˜¯æ–°åˆ›å»ºçš„.wasm-game-of-life/pkg/wasm_game_of_life_bg.wasm.wasm æ–‡ä»¶æ—¶ç”± Rust ç¼–è¯‘å™¨ä»Ž Rust æºç ç”Ÿæˆçš„ WebAssembly äºŒè¿›åˆ¶æ–‡ä»¶.å®ƒå°†æ‰€æœ‰æ‰€æœ‰ Rust å‡½æ•°å’Œæ•°æ®ç¼–è¯‘æˆçš„ wasm ç‰ˆæœ¬.ä¾‹å¦‚,å®ƒå…·æœ‰ â€œgreetâ€ åŠŸèƒ½.wasm-game-of-life/pkg/wasm-game-of-life.js.js æ–‡ä»¶æ˜¯ç”± wasm-bindgen ç”Ÿæˆçš„,åŒ…å« JavaScript ç²˜åˆå‰‚,ç”¨äºŽå°† DOM å’Œ JavaScript å‡½æ•°å¯¼å…¥ Rust å¹¶å‘ WebAssembly å‡½æ•°å…¬å¼€ä¸€ä¸ªå¾ˆå¥½çš„ API åˆ° JavaScript. ä¾‹å¦‚,æœ‰ä¸€ä¸ª JavaScript greet å‡½æ•°,å®ƒåŒ…è£…ä»Ž WebAssembly æ¨¡å—å¯¼å‡ºçš„ greet å‡½æ•°,çŽ°åœ¨è¿™ä¸ªç²˜åˆå‰‚å¹¶æ²¡æœ‰å¤ªå¤šä½œç”¨,ä½†æ˜¯å½“æˆ‘ä»¬å¼€å§‹åœ¨ wasm å’Œ JavaScript ä¹‹é—´æ¥å›žä¼ é€’æ›´å¤šæœ‰è¶£çš„å€¼æ—¶,å®ƒå°†æœ‰åŠ©äºŽè¿™äº›å€¼çš„ä¼ é€’.import * as wasm from './wasm_game_of_life_bg';// ...export function greet() {    return wasm.greet();}wasm-game-of-life/pkg/wasm_game_of_life.d.ts.d.ts æ–‡ä»¶åŒ…å« JavaScript ç²˜åˆå‰‚çš„ TypeScript ç±»åž‹å£°æ˜Ž,å¦‚æžœæ‚¨ä½¿ç”¨çš„æ˜¯ TypeScript,åˆ™å¯ä»¥é€‰ä¸­å¯¹ WebAssemblyå‡½æ•°ç±»åž‹çš„è°ƒç”¨,å¹¶ä¸”æ‚¨çš„ IDE å¯ä»¥æä¾›è‡ªåŠ¨å®Œæˆå’Œå»ºè®®ï¼ å¦‚æžœæ‚¨ä¸ä½¿ç”¨ TypeScript,åˆ™å¯ä»¥å¿½ç•¥æ­¤æ–‡ä»¶.export function greet(): void;wasm-game-of-life/pkg/package.jsonpackage.json æ–‡ä»¶åŒ…å«æœ‰å…³ç”Ÿæˆçš„ JavaScript å’Œ WebAssembly åŒ…çš„å…ƒæ•°æ®. npm å’Œ JavaScript æ†ç»‘åŒ…ä½¿ç”¨å®ƒæ¥ç¡®å®šåŒ…ã€åŒ…åã€ç‰ˆæœ¬å’Œä¸€å †å…¶ä»–ä¸œè¥¿ä¹‹é—´çš„ä¾èµ–å…³ç³».å®ƒå¸®åŠ©æˆ‘ä»¬ä¸Ž JavaScript å·¥å…·é›†æˆ,å¹¶å…è®¸æˆ‘ä»¬å°†æˆ‘ä»¬çš„åŒ…å‘å¸ƒåˆ° npm.{  "name": "wasm-game-of-life",  "collaborators": [    "Your Name &lt;your.email@example.com&gt;"  ],  "description": null,  "version": "0.1.0",  "license": null,  "repository": null,  "files": [    "wasm_game_of_life_bg.wasm",    "wasm_game_of_life.d.ts"  ],  "main": "wasm_game_of_life.js",  "types": "wasm_game_of_life.d.ts"}å°†å®ƒæ”¾å…¥ç½‘é¡µè¦èŽ·å–æˆ‘ä»¬çš„ wasm-game-of-life åŒ…å¹¶åœ¨ç½‘é¡µä¸­ä½¿ç”¨å®ƒ,æˆ‘ä»¬ä½¿ç”¨ create-wasm-app JavaScript é¡¹ç›®æ¨¡æ¿.åœ¨ wasm-game-of-life ç›®å½•ä¸­è¿è¡Œæ­¤å‘½ä»¤:npm init wasm-app wwwè¿™æ˜¯æˆ‘ä»¬æ–°çš„ wasm-game-of-life/www å­ç›®å½•åŒ…å«çš„å†…å®¹:wasm-game-of-life/www/â”œâ”€â”€ bootstrap.jsâ”œâ”€â”€ index.htmlâ”œâ”€â”€ index.jsâ”œâ”€â”€ LICENSE-APACHEâ”œâ”€â”€ LICENSE-MITâ”œâ”€â”€ package.jsonâ”œâ”€â”€ README.mdâ””â”€â”€ webpack.config.jså†ä¸€æ¬¡,è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹å…¶ä¸­çš„ä¸€äº›æ–‡ä»¶.wasm-game-of-life/www/package.jsonè¿™ä¸ª package.json é¢„å…ˆé…ç½®äº† webpack å’Œ webpack-dev-server ä¾èµ–é¡¹,ä»¥åŠå¯¹ hello-wasm-pack çš„ä¾èµ–,hello-wasm-pack æ˜¯å·²å‘å¸ƒåˆ° npm çš„åˆå§‹ wasm-pack-template åŒ…çš„ä¸€ä¸ªç‰ˆæœ¬.wasm-game-of-life/www/webpack.config.jsæ­¤æ–‡ä»¶é…ç½® webpack åŠå™¨æœ¬ä½Žå¼€å‘æœåŠ¡å™¨.ä»–æ˜¯é¢„é…ç½®çš„,æ‚¨æ ¹æœ¬ä¸éœ€è¦è°ƒæ•´å®ƒå·²ä½¿ç”¨ webpack ä»¥åŠæœ¬ä½Žå¼€å‘æœåŠ¡å™¨æ­£å¸¸å·¥ä½œ.wasm-game-of-life/www/index.htmlè¿™æ˜¯ç½‘é¡µçš„æ ¹ HTML æ–‡ä»¶.å®ƒé™¤äº†åŠ è½½ bootstrap.js ä¹‹å¤–æ²¡ä»€ä¹ˆç”¨å¤„,å®ƒæ˜¯ index.js çš„ä¸€ä¸ªéžå¸¸è–„å¼±çš„åŒ…è£…å™¨.&lt;!DOCTYPE html&gt;&lt;html&gt;  &lt;head&gt;    &lt;meta charset="utf-8"&gt;    &lt;title&gt;Hello wasm-pack!&lt;/title&gt;  &lt;/head&gt;  &lt;body&gt;    &lt;script src="./bootstrap.js"&gt;&lt;/script&gt;  &lt;/body&gt;&lt;/html&gt;wasm-game-of-life/www/index.jsindex.js æ˜¯æˆ‘ä»¬ç½‘é¡µ JavaScript çš„ä¸»è¦å…¥å£ç‚¹.å®ƒå¯¼å…¥äº† hello-wasm-pack npm åŒ…,åŒ…åšæ¶µé»˜è®¤çš„ wasm-pack-template ç¼–è¯‘ WebAssembly å’Œ JavaScript çš„ç²˜åˆå‰‚,ç„¶åŽè°ƒç”¨ hello-wasm-pack çš„ greet å‡½æ•°.import * as wasm from "hello-wasm-pack";wasm.greet();å®‰è£…ä¾èµ–é¡¹é¦–å…ˆ,é€šè¿‡åœ¨ wasm-game-of-life/www å­ç›®å½•ä¸­è¿è¡Œ npm install æ¥ç¡®ä¿å®‰è£…æœ¬åœ°å¼€å‘æœåŠ¡å™¨åŠå…¶ä¾èµ–é¡¹:npm installæ­¤å‘½ä»¤åªéœ€è¦è¿è¡Œä¸€æ¬¡,å¹¶å°†å®‰è£… webpack JavaScript bundler åŠå…¶å¼€å‘æœåŠ¡å™¨.  æ³¨æ„, ä½¿ç”¨ Rust å’Œ WebAssembly ä¸éœ€è¦ webpack, å®ƒåªæ˜¯æˆ‘ä»¬ä¸ºæ–¹ä¾¿èµ·è§è€Œé€‰æ‹©çš„ bundler å’Œå¼€å‘æœåŠ¡å™¨,Parcel å’Œ Rollup è¿˜åº”è¯¥æ”¯æŒå°† WebAssembly å¯¼å…¥ä¸º ECMAscript æ¨¡å—.å¦‚æžœæ‚¨æ„¿æ„,ä¹Ÿå¯åœ¨æ²¡æœ‰æ†ç»‘å™¨çš„æƒ…å†µä¸‹ä½¿ç”¨ Rust å’Œ WebAssembly!åœ¨ www ä¸­ä½¿ç”¨ æˆ‘ä»¬æœ¬åœ°çš„ wasm-game-of-life åŒ…æˆ‘ä»¬å¸Œæœ›ä½¿ç”¨æœ¬åœ°çš„ wasm-game-of-life è½¯ä»¶åŒ…,è€Œä¸æ˜¯ä½¿ç”¨æ¥è‡ª npm çš„ hello-wasm-pack è½¯ä»¶åŒ….æµ™æ±Ÿä½¿æˆ‘ä»¬èƒ½å¤Ÿé€æ­¥å‘å±•æˆ‘ä»¬çš„ wasm-game-of-life` è®¡åˆ’.æ‰“å¼€ wasm-game-of-life/www/package.json å¹¶ç¼–è¾‘ "dependencies" ä»¥åŒ…å« "wasm-game-of-life":"file:../pkg æ¡ç›®:    // ...    "dependencies": {        "wasm-game-of-life":"file:../pkg", // add this line!        // ...    }æŽ¥ä¸‹æ¥,ä¿®æ”¹ wasm-game-of-life/www/index.js ä»¥å¯¼å…¥ wasm-game-of-life è€Œä¸æ˜¯ hello-wasm-pack åŒ…:import * as wasm from "wasm-game-of-life";wasm.greet();ç”±æˆ‘ä»¬å£°æ˜Žä¸€ä¸ªæ–°çš„ä¾èµ–é¡¹,æˆ‘ä»¬éœ€è¦å®‰è£…å®ƒï¼šnpm installæˆ‘ä»¬çš„ç½‘é¡µçŽ°åœ¨å·²å‡†å¤‡å¥½åœ¨æœ¬åœ°è®¿é—®äº†ï¼æœ¬åœ°æœåŠ¡æŽ¥ä¸‹æ¥,æ‰“å¼€å¼€å‘æœåŠ¡å™¨çš„æ–°ç»ˆç«¯.åœ¨æ–°ç»ˆç«¯è¿è¡ŒæœåŠ¡å™¨è®©å®ƒåœ¨åŽå°è¿è¡Œ,å¹¶ä¸”ä¸ä¼šé˜»æ­¢æˆ‘ä»¬åœ¨æ­¤èµ·è§è¿è¡ŒåŽ»å…¶ä»–å‘½ä»¤.åœ¨æ–°ç»ˆç«¯ä¸­,ä»Ž wasm-game-of-life/www ç›®å½•ä¸­è¿è¡Œæ­¤å‘½ä»¤:npm run startåœ¨æµè§ˆå™¨å¯¼èˆªåˆ° http://localhost:8080/ æ‚¨å°†çœ‹åˆ°ä¸€æ¡è­¦å‘Šä¿¡æ¯:æ— è®ºä½•æ—¶è¿›è¡Œæ›´æ”¹å¹¶å¸Œæœ›ä»–ä»¬åæ˜ åœ¨ http://localhost:8080/, åªéœ€è¦åœ¨ wasm-game-of-life ç›®å½•ä¸­è¿è¡Œ wasm-pack build å‘½ä»¤.ç»ƒä¹   ä¿®æ”¹ wasm-game-of-life/src/lib.rs ä¸­çš„greet å‡½æ•°,å–ä¸€ä¸ª name: &amp;str å‚æ•°,è‡ªå®šä¹‰ä¸€ä¸ª alerted æ¶ˆæ¯,å¹¶å°†ä½ çš„åå­—ä¼ é€’ç»™æ¥è‡ª wasm-game-of life/www/index.js.ä½¿ç”¨ wasm-pack é‡æ–°æž„å»º .wasm äºŒè¿›åˆ¶æ–‡ä»¶,ç„¶åŽåœ¨ Web æµè§ˆå™¨ä¸­åˆ·æ–° http://localhost:8080/ ,æ‚¨åº”è¯¥çœ‹åˆ°è‡ªå®šä¹‰é—®å€™è¯­ï¼ç­”æ¡ˆè¯¥ `greet` åŠŸèƒ½çš„æ–°ç‰ˆæœ¬ `wasm-game-of-life/src/lib.rs`:```rust#![allow(unused_variables)]fn main() {  #[wasm_bindgen]  pub fn greet(name: &amp;str) {      alert(&amp;format!("Hello, {}!", name));  }}```  æ–°è°ƒç”¨ `greet` çš„ `wasm-game-of-life/www/index.js`:```jswasm.greet("Your Name");```  ç›®å½•  ä¸‹ä¸€ç¯‡:åº·å¨ç”Ÿå‘½æ¸¸æˆçš„æ¸¸æˆè§„åˆ™  ä¸Šä¸€ç¯‡:å®‰è£… WebAssembly  via: https://rustwasm.github.io/book/game-of-life/hello-world.html  è¯‘è€…: lkighy  æ ¡å¯¹: -]]></content>
      <categories>
        
          <category> rust/WebAssembly </category>
        
      </categories>
      <tags>
        
          <tag> rust </tag>
        
          <tag> WebAssembly </tag>
        
          <tag> ç¿»è¯‘ </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[å®‰è£… WebAssembly]]></title>
      <url>/rust/webassembly/2019/07/11/%E5%AE%89%E8%A3%85WebAssembly/</url>
      <content type="text"><![CDATA[Rust å·¥å…·é“¾ä½ éœ€è¦å®‰è£…æ ‡å‡†çš„ Rust å·¥å…·é“¾ï¼ŒåŒ…æ‹¬ rustup, rustc å’Œ cargoã€‚æŒ‰ç…§ä»¥ä¸‹è¯´æ˜Žå®‰è£… Rust å·¥å…·é“¾ã€‚ä½¿ç”¨ Rust å’Œ WebAssembly çš„æœ€ä½³ä½“éªŒæ˜¯ä½¿ç”¨ Rust å‘å¸ƒçš„ç¨³å®šç‰ˆã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ä¸éœ€è¦ä»»ä½•å®žéªŒç‰ˆæœ¬ã€‚ä½†æ˜¯æˆ‘ä»¬éœ€è¦ Rust 1.30 åŠæ›´é«˜ç‰ˆæœ¬ã€‚wasm-packwasm-pack æ˜¯æ‚¨æž„å»ºã€æµ‹è¯•å’Œå‘å¸ƒ Rust ç”Ÿæˆçš„ WebAssembly çš„ç½‘ç«™å’Œå•†åº—ã€‚ä»Žè¿™é‡ŒèŽ·å–wasn-packcargo-generatecargo-generate é€šè¿‡é¢„å…ˆå­˜åœ¨çš„ git å­˜å‚¨åº“ä½œä¸ºæ¨¡æ¿ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿé©±åŠ¨å¹¶è¿è¡Œæ–°çš„ Rust é¡¹ç›®ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… cargo-generatecargo install cargo-generatenpmnpm æ˜¯ JavaScript çš„åŒ…ç®¡ç†å™¨ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å®ƒæ¥å®‰è£…å’Œè¿è¡Œ JavaScript æ†ç»‘å™¨å’Œå¼€å‘æœåŠ¡å™¨ã€‚åœ¨æœ¬æ•™ç¨‹ç»“æŸæ—¶ï¼Œæˆ‘ä»¬å°†ç¼–è¯‘çš„ .wasm å‘å¸ƒåˆ° npm æ³¨å†Œè¡¨ã€‚æŒ‰ç…§ä»¥ä¸‹è¯´æ˜ŽæŒ‰ç…§ npmå¦‚æžœæ‚¨å·²ç»å®‰è£…äº† npmï¼Œè¯·ç¡®ä¿å®ƒæ˜¯æœ€æ–°ç‰ˆæœ¬çš„å‘½ä»¤ï¼šnpm install npm@latest -g  ç›®å½•  ä¸‹ä¸€ç¯‡:Hello,World!  ä¸Šä¸€ç¯‡:æ•™ç¨‹:åº·å¨çš„ç”Ÿå‘½æ¸¸æˆ  via: https://rustwasm.github.io/book/game-of-life/setup.html  è¯‘è€…: lkighy  æ ¡å¯¹: -]]></content>
      <categories>
        
          <category> rust/WebAssembly </category>
        
      </categories>
      <tags>
        
          <tag> rust </tag>
        
          <tag> WebAssembly </tag>
        
          <tag> ç¿»è¯‘ </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[æ•™ç¨‹:åº·å¨çš„ç”Ÿå‘½æ¸¸æˆ]]></title>
      <url>/rust/webassembly/2019/07/10/%E6%95%99%E7%A8%8B-%E5%BA%B7%E5%A8%81%E7%9A%84%E7%94%9F%E5%91%BD%E6%B8%B8%E6%88%8F/</url>
      <content type="text"><![CDATA[è¿™ä¸ªæ•™ç¨‹é€‚ç”¨äºŽä»€ä¹ˆäºº?æœ¬æ•™ç¨‹é€‚ç”¨äºŽå·²å…·å¤‡åŸºæœ¬ Rust å’Œ JavaScript ç»éªŒçš„ä»»ä½•äººï¼Œå¹¶å¸Œæœ›å­¦ä¹ å¦‚ä½•ä¸€èµ·ä½¿ç”¨ Rust, WebAssembly å’Œ JavaScriptã€‚æˆ‘å°†å­¦åˆ°ä»€ä¹ˆ?  å¦‚ä½•è®¾ç½®å°† Rust ç¼–è¯‘ä¸º WebAssembly çš„å·¥å…·é“¾,  ä¸€ç§ç”± Rust, WebAssembly, JavaScript, HTML å’Œ CSS ç»„æˆçš„å¤šè¯­è¨€ç¨‹åºçš„å·¥ä½œæµç¨‹,  å¦‚ä½•è®¾è®¡ API ä»¥æœ€å¤§é™åº¦åœ°åˆ©ç”¨ Rust å’Œ WebAssembly çš„ä¼˜åŠ¿ä»¥åŠ JavaScript çš„ä¼˜åŠ¿,  å¦‚ä½•è°ƒè¯• Rust ç¼–å†™çš„ WebAssembly æ¨¡å—,  å¦‚ä½•é…ç½® Rust å’Œ WebAssembly ç¨‹åºï¼Œä½¿ä»–ä»¬æ›´å¿«,  å¦‚ä½•è°ƒæ•´ Rust ç¼–å†™çš„ WebAssembly ç¨‹åºçš„å¤§å°ï¼Œæ˜¯ .wasm äºŒè¿›åˆ¶æ–‡ä»¶æ›´å°ã€æ›´å¿«ï¼Œä½¿ä¹‹å¯ä»¥é€šè¿‡ç½‘ç»œæ›´å¿«çš„è®¿é—®ã€‚  ç›®å½•  ä¸‹ä¸€ç¯‡:å®‰è£… WebAssembly  ä¸Šä¸€ç¯‡:ä»€ä¹ˆæ˜¯ WebAssembly?  å¦‚æžœæ‚¨è¿˜è¯»è¿‡è¯¥ç³»åˆ—æ–‡ç« ,å»ºè®®æ‚¨ä»ŽRust ðŸ¦€ å’Œ WebAssembly ðŸ•¸å¼€å§‹é˜…è¯»  via: https://rustwasm.github.io/book/game-of-life/introduction.html  è¯‘è€…: lkighy  æ ¡å¯¹: -]]></content>
      <categories>
        
          <category> rust/WebAssembly </category>
        
      </categories>
      <tags>
        
          <tag> rust </tag>
        
          <tag> WebAssembly </tag>
        
          <tag> ç¿»è¯‘ </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[ä»€ä¹ˆæ˜¯ WebAssembly?]]></title>
      <url>/rust/webassembly/2019/07/09/%E4%BB%80%E4%B9%88%E6%98%AFWebAssembly/</url>
      <content type="text"><![CDATA[WebAssembly(wasm) æ˜¯ä¸€ç§ç®€å•çš„æœºå™¨æ¨¡åž‹å’Œå¯æ‰§è¡Œæ ¼å¼ï¼Œå…·æœ‰å¹¿æ³›çš„è§„èŒƒ(extensive specification)ï¼Œå®ƒè®¾è®¡ä¸ºä¾¿æºã€ç´§å‡‘ï¼Œå¹¶ä»¥åŽŸç”Ÿé€Ÿåº¦æˆ–æŽ¥è¿‘åŽŸç”Ÿé€Ÿåº¦æ‰§è¡Œã€‚ä½œä¸ºä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼ŒWebAssembly ç”±ä¸¤ç§ç›¸åŒç»“æž„çš„æ ¼å¼ç»„æˆï¼Œå°½ç®¡æ–¹å¼ä¸åŒï¼š  .wat æ–‡æœ¬æ ¼å¼(ç§°ä¸ºâ€WebAssembly Textâ€ çš„ wat) ä½¿ç”¨ S-expressionsï¼Œå¹¶ä¸”ä¸Ž Lisp è¯­è¨€ç³»åˆ—ï¼ˆå¦‚ Scheme å’Œ Clojureï¼‰æœ‰ä¸€äº›ç›¸ä¼¼ä¹‹å¤„ã€‚  .wasmäºŒè¿›åˆ¶æ ¼å¼æ˜¯æ¯”è¾ƒä½Žçº§åˆ«çš„ï¼Œæ—¨åœ¨æœ‰ wasmè™šæ‹Ÿæœºç›´æŽ¥ä½¿ç”¨ã€‚å®ƒåœ¨æ¦‚å¿µä¸Šç±»ä¼¼äºŽ ELF å’Œ Mach-Oã€‚ä½œä¸ºå‚è€ƒï¼Œè¿™æ˜¯ wat ä¸­çš„é˜¶ä¹˜å‡½æ•°ï¼š(module  (func $fac (param f64) (result f64)    get_local 0    f64.const 1    f64.lt    if (result f64)      f64.const 1    else      get_local 0      get_local 0      f64.const 1      f64.sub      call $fac      f64.mul    end)  (export "fac" (func $fac)))å¦‚æžœæ‚¨å¯¹ wasm æ–‡ä»¶çš„å¤–è§‚æ„Ÿå…´è¶£ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä»£ç  wat2wasm dome æ¼”ç¤ºã€‚çº¿æ€§å­˜å‚¨(Linear Memory)WebAssembly æœ‰ä¸€ä¸ªéžå¸¸ç®€å•çš„å†…å­˜æ¨¡åž‹. wasmæ¨¡å—å¯ä»¥è®¿é—®å•ä¸ª â€œçº¿æ€§å†…å­˜â€, å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¹³é¢å­—èŠ‚æ•°ç»„.æ­¤å†…å­˜å¯ä»¥ä»¥é¡µ(64K)å¤§å°çš„å€æ•°å¢žé•¿,ä½†ä¸èƒ½æ”¶ç¼©.WebAssembly ä»…é€‚ç”¨äºŽ Web å—?è™½ç„¶å®ƒç›®å‰åœ¨ JavaScript å’Œ Web ç¤¾åŒºä¸­æ”¶åˆ°äº†å¹¿æ³›çš„å…³æ³¨,ä½† wasm å¹¶æ²¡æœ‰å¯¹å…¶ä¸»æœºçŽ¯å¢ƒåšå‡ºè‡†æ–­.å› æ­¤æŽ¨æµ‹ wasm åœ¨æœªæ¥å°†åœ¨å„ç§çŽ¯å¢ƒä¸­ä½¿ç”¨ â€œè½»ä¾¿å¯ç§»æ¤â€çš„å¯èƒ½æ€§æ˜¯å­˜åœ¨çš„.ç„¶è€Œåˆ°ç›®å‰ä¸ºæ­¢, wasm ä¸»è¦ä¸Ž JavaScript(JS) å…³è”,JavaScript æœ‰å¾ˆå¤šç‰¹ç‚¹(åŒ…æ‹¬ Web å’Œ Node.js).  ç›®å½•  ä¸‹ä¸€ç¯‡:æ•™ç¨‹-åº·å¨çš„ç”Ÿå‘½æ¸¸æˆ  ä¸Šä¸€ç¯‡:ä¸ºä»€ä¹ˆæ˜¯Rust å’Œ WebAssembly  via: https://rustwasm.github.io/book/what-is-webassembly.html  è¯‘è€…: lkighy  æ ¡å¯¹: -]]></content>
      <categories>
        
          <category> rust/WebAssembly </category>
        
      </categories>
      <tags>
        
          <tag> rust </tag>
        
          <tag> WebAssembly </tag>
        
          <tag> ç¿»è¯‘ </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[ä¸ºä»€ä¹ˆæ˜¯ Rust å’Œ WebAssemblyï¼Ÿ]]></title>
      <url>/rust/webassembly/2019/07/08/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AFRust%E5%92%8CWebAssembly/</url>
      <content type="text"><![CDATA[å…·æœ‰é«˜çº§çš„äººæœºå·¥ç¨‹å­¦(Ergonomics)å’Œä½Žçº§æŽ§åˆ¶(Control)JavaScript Webåº”ç”¨ç¨‹åºå¾ˆéš¾èŽ·å¾—å¹¶ä¿æŒå¯é çš„æ€§èƒ½ã€‚JavaScript çš„åŠ¨æ€ç±»åž‹ç³»ç»Ÿå’Œåžƒåœ¾å›žæ”¶æœºåˆ¶å¯¹ä¿æŒå¯é çš„æ€§èƒ½æ²¡æœ‰ä»»ä½•å¸®åŠ©ã€‚å¦‚æžœæ‚¨ä¸å°å¿ƒå¾˜å¾Šåœ¨ JIT çš„å¿«ä¹é“è·¯ä¸Šï¼Œçœ‹ä¼¼å¾®ä¸è¶³é“çš„ä»£ç æ›´æ”¹å¯èƒ½ä¼šå¯¼è‡´ä¸¥é‡çš„æ€§èƒ½ä¸‹é™ã€‚Rust ä¸ºç¨‹åºå‘˜æä¾›äº†ä½Žçº§æŽ§åˆ¶å’Œå¯é çš„æ€§èƒ½ã€‚å®ƒä¸å— JavaScript çš„éžç¡®å®šæ€§åžƒåœ¾å›žæ”¶çš„å½±å“ã€‚ç¨‹åºå‘˜å¯ä»¥æŽ§åˆ¶é—´æŽ¥ã€å•æ‹Ÿç”»å’Œå†…å­˜å¸ƒå±€ã€‚å°å·§çš„ .wasmä»£ç çš„å¤šå°‘éžå¸¸é‡è¦ï¼Œå› ä¸ºå¿…é¡»é€šè¿‡ç½‘ç»œä¸‹è½½ .wasmã€‚Rust ç¼ºå°‘ä¸€ä¸ªè¿è¡Œæ—¶å°å·§çš„ .wasmï¼Œå› ä¸ºæ²¡æœ‰å›Šè‚¿çš„åžƒåœ¾å›žæ”¶å™¨ï¼Œæ‚¨åªéœ€è¦ä¸ºå®žé™…ä½¿ç”¨çš„åŠŸèƒ½æ”¯ä»˜ç›¸åº”çš„å®¹é‡ï¼ˆä»£ç çš„å¤šå°‘ï¼‰ã€‚ä¸éœ€è¦å…¨éƒ¨é‡å†™ä¸éœ€è¦ä¸¢å¼ƒçŽ°æœ‰çš„ä»£ç åº“ã€‚æ‚¨å¯ä»¥é¦–å…ˆå°†å¯¹æ€§èƒ½æ•æ„Ÿçš„ JavaScript å‡½æ•°ç§»æ¤åˆ° Rustï¼Œä»¥èŽ·å¾—æœ€å¥½çš„æ”¶ç›Šã€‚å¦‚æžœä½ æ„¿æ„ï¼Œä½ ç”šè‡³å¯ä»¥åœ¨é‚£é‡Œåœä¸‹æ¥ã€‚ä¸Žä»–äººçš„æ„‰å¿«åˆä½œRust å’Œ WebAssembly ä¸ŽçŽ°æœ‰çš„ JavaScript å·¥å…·é›†æˆã€‚å®ƒæ”¯æŒ ECMAScript æ¨¡å—ï¼Œæ‚¨å¯ä»¥ç»§ç»­ä½¿ç”¨æ‚¨å–œæ¬¢çš„å·¥å…·ï¼Œå¦‚ npm, webpack å’Œ Greenkeeperã€‚ä½ æœŸå¾…çš„è®¾æ–½Rust æ‹¥æœ‰å¼€å‘äººå‘˜æ‰€æœŸå¾…çš„çŽ°ä»£åŒ–è®¾æ–½ï¼š  å¼ºå¤§çš„åŒ…ç®¡ç†å·¥å…· cargo,  å¯Œæœ‰è¡¨çŽ°äº†(å’Œé›¶æˆæœ¬) çš„æŠ½è±¡,  å’Œä¸€ä¸ªçƒ­æƒ…çš„ç¤¾åŒº!ðŸ˜Š  ç›®å½•  ä¸‹ä¸€ç¯‡: ä»€ä¹ˆæ˜¯ WebAssembly?  ä¸Šä¸€ç¯‡: Rust ðŸ¦€ å’Œ WebAssembly ðŸ•¸  via: https://rustwasm.github.io/book/why-rust-and-webassembly.html  è¯‘è€…: lkighy  æ ¡å¯¹: -]]></content>
      <categories>
        
          <category> rust/WebAssembly </category>
        
      </categories>
      <tags>
        
          <tag> rust </tag>
        
          <tag> WebAssembly </tag>
        
          <tag> ç¿»è¯‘ </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Rust ðŸ¦€ å’Œ WebAssembly ðŸ•¸]]></title>
      <url>/rust/webassembly/2019/07/07/rust-%E5%92%8C-WebAssembly/</url>
      <content type="text"><![CDATA[è¿™æœ¬ä¹¦æè¿°äº† rust å’Œ WebAssembly çš„ä½¿ç”¨ã€‚è¿™æœ¬ä¹¦é€‚åˆä»€ä¹ˆäººï¼Ÿæœ¬ä¹¦é€‚ç”¨äºŽä»»ä½•æœ‰å…´è¶£å°† rust ç¼–è¯‘ä¸º WebAssembly çš„äººï¼Œä»¥ä¾¿åœ¨ web ä¸ŠèŽ·å¾—å¿«é€Ÿã€å¯é çš„ä»£ç ã€‚æ‚¨åº”è¯¥äº†è§£ä¸€äº› Rustï¼Œå¹¶ç†Ÿæ‚‰ JavaScript å’Œ CSSã€‚æ‚¨ä¸éœ€è¦æˆä¸ºå…¶ä¸­ä¸€ä¸ªçš„ä¸“å®¶ã€‚ä¸çŸ¥é“ Rustï¼Ÿ é¦–å…ˆä»Žrust ç¼–ç¨‹è¯­è¨€å¼€å§‹ã€‚ä¸æ‡‚ JavaScript,HTML æˆ– CSSï¼Ÿ åœ¨MDNä¸Šäº†è§£ä»–ä»¬ã€‚å¦‚ä½•é˜…è¯»æœ¬ä¹¦æ‚¨åº”è¯¥å…ˆé˜…è¯»ä½¿ç”¨ Rust å’Œ WebAssembly çš„åŠ¨æœºï¼Œå¹¶ç†Ÿæ‚‰å…¶èƒŒæ™¯å’Œæ¦‚å¿µã€‚æœ¬æ•™ç¨‹åº”å¤´é˜…è¯»åˆ°å°¾ã€‚æ‚¨åº”è¯¥ï¼šè‡ªå·±ç¼–å†™ã€ç¼–è¯‘å’Œè¿è¡Œæ•™ç¨‹ä»£ç ã€‚å¦‚æžœæ‚¨ä¹‹å‰æ²¡æœ‰ä½¿ç”¨è¿‡ Rust å’Œ web Assemblyã€‚è¯·ä»Žå…ˆäº†è§£å®ƒä»¬ã€‚å‚è€ƒéƒ¨åˆ†å¯ä»¥æŒ‰ä»»ä½•é¡ºåºè¿›è¡Œé˜…è¯»ã€‚  ðŸ’¡ æç¤º: æ‚¨å¯ä»¥é€šè¿‡ç‚¹å‡»é¡µé¢é¡¶éƒ¨çš„ ðŸ” å›¾æ ‡ æˆ–æŒ‰ s é”®æ¥æœç´¢æœ¬ä¹¦ã€‚ä¸ºæœ¬ä¹¦åšè´¡çŒ®è¿™æœ¬ä¹¦æ˜¯å¼€æºçš„ï¼æ‰¾ä¸ªæ‹¼å†™é”™è¯¯ï¼Ÿæˆ–æˆ‘ä»¬å¿½ç•¥äº†ä»€ä¹ˆï¼Ÿå‘æˆ‘ä»¬å‘é€æ‹‰å–è¯·æ±‚å§ã€‚  ç›®å½•  ä¸‹ä¸€ç¯‡: ä¸ºä»€ä¹ˆæ˜¯ Rust å’Œ WebAssemblyï¼Ÿ  ä¸Šä¸€ç¯‡: -  via: https://rustwasm.github.io/book/introduction.html  è¯‘è€…: lkighy  æ ¡å¯¹: -]]></content>
      <categories>
        
          <category> rust/WebAssembly </category>
        
      </categories>
      <tags>
        
          <tag> rust </tag>
        
          <tag> WebAssembly </tag>
        
          <tag> ç¿»è¯‘ </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
</search>
